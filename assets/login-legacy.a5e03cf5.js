!function(){function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function t(t){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?e(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}System.register(["./index-legacy.2b5b3f6c.js","./favicon-legacy.63847259.js","./route-block-legacy.416ddcc8.js","./index-legacy.ca9b60ce.js","./index-legacy.ac048ceb.js"],(function(e){"use strict";var r,o,n,a,l,u,s,c,i,b,d,f,p,g,m,y,h,v,w,j,O,x,P,_,k;return{setters:[function(e){r=e.d,o=e.al,n=e.r,a=e.o,l=e.am,u=e.c,s=e.g,c=e.h,i=e.an,b=e.ao,d=e.u,f=e.ap,p=e.a,g=e.b,m=e.C,y=e.aq,h=e.ar,v=e.ae,w=e.as},function(e){j=e.E,O=e.a,x=e.b,P=e.c,_=e._},function(e){k=e.b},function(){},function(){}],execute:function(){const S={class:"bg-white h-screen font-github"},V={class:"flex justify-center items-center flex-col"},E=g("div",{class:"p-8"},[g("img",{src:_,class:"w-12 h-12",alt:"tov"})],-1),D=g("div",{class:"font-300 text-2xl tracking-github mb-4"}," Sign in to tov-template ",-1),U={class:"h-57 w-77 bg-github_bg border-github_b rounded-xl border-1 p-4"},C=m("Sign in"),R=g("div",{class:"mt-3 w-77 bg-white border-github_b rounded-xl border-1 p-4"},[m(" New to Tov? "),g("a",{href:"signup",class:"text-github_a"},"Create an account"),m(" . ")],-1),T=r({name:"***",beforeRouteEnter(e,t,r){r((e=>{i.isEmpty(b().value)||e.router.replace(t.path)}))}}),q=e("default",r(t(t({},T),{},{setup(e,t){let r=t.expose;const i=o({username:"",password:""}),m=n(),_=d(),k=f();a((()=>{}));return r({router:_,currentUser:l,route:k}),(e,t)=>{const r=j,o=O,n=x,a=P;return p(),u("div",S,[s(a,{ref_key:"ruleFormRef",ref:m,model:i,"label-position":"top"},{default:c((()=>[g("div",V,[E,D,g("div",U,[s(o,{label:"Phone number"},{default:c((()=>[s(r,{modelValue:i.username,"onUpdate:modelValue":t[0]||(t[0]=e=>i.username=e)},null,8,["modelValue"])])),_:1}),s(o,{label:"Password"},{default:c((()=>[s(r,{modelValue:i.password,"onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e),type:"password",autocomplete:"off"},null,8,["modelValue"])])),_:1}),s(o,null,{default:c((()=>[s(n,{class:"w-full rounded-2xl shadow-github_button",color:"#2da44e",type:"primary",onClick:t[2]||(t[2]=e=>{var t;(t=m.value)&&t.validate((e=>{if(!e)return!1;y(i.username,i.password).then((e=>{b().value=e.getSessionToken(),h.success(`登录成功，欢迎您${e.getUsername()}回来~`);let t=v(w()).fromParams;_.push(t.value.fromPath)}),(e=>{h.error(e.rawMessage)}))}))})},{default:c((()=>[C])),_:1})])),_:1})]),R])])),_:1},8,["model"])])}}})));"function"==typeof k&&k(q)}}}))}();
