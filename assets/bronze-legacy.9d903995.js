System.register(["./index-legacy.236c33f5.js","./base-legacy.983574b6.js","./button-legacy.fe2d7ab3.js","./delete-legacy.ce826827.js","./input-legacy.3a43dd41.js","./switch-legacy.4bae5fb7.js","./index-legacy.92f1d5b2.js","./index-legacy.6bf2e572.js","./index-legacy.23e8233e.js","./index-legacy.c225d0aa.js","./index-legacy.1d32fce8.js","./validator-legacy.e92dcd25.js","./event-legacy.7722cbb2.js","./isNil-legacy.e248952d.js"],(function(e,t){"use strict";var l,n,a,s,o,u,i,c,d,r,y,v,g,b,D,G,A,x,m,O,k,h,j,f;return{setters:[e=>{l=e.d,n=e.bp,a=e.m,s=e.bq,o=e.br,u=e.bs,i=e.o,c=e.a,d=e.b,r=e.F,y=e.s,v=e.f,g=e.h,b=e.w,D=e.e,G=e.t,A=e.a1,x=e.bt,m=e.aO,O=e.j},null,e=>{k=e.E},e=>{h=e._},null,e=>{j=e.E},e=>{f=e.E},null,null,null,null,null,null,null],execute:function(){const t={class:"flex justify-center items-center flex-col"},p=D("h1",{class:"text-7xl"},"LiveQuery",-1),E={class:"w-50 pl-2 pr-2 inline-block"},L={class:"inline-block"},R=O(" ç‚¹å‡»æ·»åŠ "),B=D("div",{class:"cursor-move"},"ðŸ‘‹ Drag here!",-1),T=D("div",{class:"text-xs opacity-50"},"Handle that triggers the drag event",-1),V={class:"text-sm opacity-50"};e("default",l({__name:"bronze",setup(e){const l=n(u.TODO.name);let O=a();l.find().then((e=>{O.value=e})),l.subscribe().then((e=>{e.on("create",(e=>{O.value.push(e)})),e.on("enter",((e,t)=>{})),e.on("update",((e,t)=>{const l=O.value.findIndex((t=>t.id==(null==e?void 0:e.id)));O.value[l]=e})),e.on("delete",(e=>{O.value=O.value.filter((t=>t.id!=(null==e?void 0:e.id)))}))}));const w=()=>{const e=new(x.Object.extend(u.TODO.name));e.set(u.TODO.keys.content,"Hello world!"),e.set(u.TODO.keys.done,!0),e.set(u.TODO.keys.user,m()()),e.save().then((e=>{}))},_=a(null);let C=s(_,{initialValue:{x:40,y:40}}),I=C.x,U=C.y,z=C.style;const W=[a(I),a(U)],M=W[0],H=W[1];let Q=a();o([M,H],(()=>{const e=x.Object.createWithoutData(u.DRAGGABLE.name,Q.value);e.set(u.DRAGGABLE.keys.x,M.value),e.set(u.DRAGGABLE.keys.y,H.value),e.save()}),{debounce:500});const q=n(u.DRAGGABLE.name),F=(e,t)=>{const l=new(x.Object.extend(u.DRAGGABLE.name));return l.set(u.DRAGGABLE.keys.name,"bronzeDrag"),l.set(u.DRAGGABLE.keys.x,e),l.set(u.DRAGGABLE.keys.y,t),l.save(),l},K=e=>{if(e)return I.value=e.x,void(U.value=e.y);q.find().then((e=>{if(null!=e&&e.length){const t=e.filter((e=>"bronzeDrag"==e.get(u.DRAGGABLE.keys.name)))[0];I.value=t.get(u.DRAGGABLE.keys.x),U.value=t.get(u.DRAGGABLE.keys.y),Q=a(t.id)}else K(F(40,40))}),(e=>{"101"==e.code&&K(F(40,40))}))};return q.subscribe().then((e=>{e.on("create",(e=>{Q=a(e.id),I.value=e.get(u.DRAGGABLE.keys.x),U.value=e.get(u.DRAGGABLE.keys.y)})),e.on("enter",((e,t)=>{})),e.on("update",((e,t)=>{Q=a(e.id),I.value=e.get(u.DRAGGABLE.keys.x),U.value=e.get(u.DRAGGABLE.keys.y)})),e.on("delete",(e=>{}))})),i((()=>{})),K(null),(e,l)=>{const n=j,a=f,s=h,o=k;return c(),d("div",t,[p,(c(!0),d(r,null,y(v(O),(e=>(c(),d("div",{key:e.id,class:"flex items-center justify-center p-2"},[g(n,{modelValue:e.attributes.done,"onUpdate:modelValue":t=>e.attributes.done=t,onClick:t=>((e,t)=>{const l=x.Object.createWithoutData(u.TODO.name,e);l.set(u.TODO.keys.done,t),l.save()})(e.id,e.attributes.done)},null,8,["modelValue","onUpdate:modelValue","onClick"]),D("div",E,[g(a,{modelValue:e.attributes.content,"onUpdate:modelValue":t=>e.attributes.content=t,clearable:"",onInput:t=>((e,t)=>{const l=x.Object.createWithoutData(u.TODO.name,e);l.set(u.TODO.keys.content,t),l.save()})(e.id,e.attributes.content)},null,8,["modelValue","onUpdate:modelValue","onInput"])]),D("div",L,[g(s,{class:"mt-1",onClick:t=>{return l=e.id,void x.Object.createWithoutData(u.TODO.name,l).destroy();var l}},null,8,["onClick"])])])))),128)),g(o,{onClick:w},{default:b((()=>[R])),_:1}),D("div",{ref_key:"settingRef",ref:_,style:A(v(z)),class:"bg-light-50 fixed shadow select-none z-10 hover:shadow-lg px-4 py-2 border-gray-400/30 rounded fixed"},[B,T,D("div",V," I am at "+G(Math.round(v(I)))+", "+G(Math.round(v(U))),1)],4)])}}}))}}}));
