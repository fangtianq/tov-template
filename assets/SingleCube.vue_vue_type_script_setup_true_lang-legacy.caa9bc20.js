System.register(["./index-legacy.1166de97.js","./stats.module-legacy.e0b08b6c.js"],(function(e,t){"use strict";var n,o,a,i,s,c,r,l,m,d,p,u,h,b,g,f,E,y,O,w,T;return{setters:[e=>{n=e.d,o=e.o,a=e.bx,i=e.a,s=e.h},e=>{c=e.E,r=e.V,l=e.M,m=e.T,d=e.Q,p=e.S,u=e.a,h=e.B,b=e.b,g=e.c,f=e.A,E=e.P,y=e.W,O=e.d,w=e.e,T=e.C}],execute:function(){const t={type:"change"},P={type:"start"},A={type:"end"};class v extends c{constructor(e,n){super(),this.object=e,this.domElement=n,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new r,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:l.ROTATE,MIDDLE:l.DOLLY,RIGHT:l.PAN},this.touches={ONE:m.ROTATE,TWO:m.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return c.phi},this.getAzimuthalAngle=function(){return c.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(e){e.addEventListener("keydown",J),this._domElementKeyEvents=e},this.saveState=function(){o.target0.copy(o.target),o.position0.copy(o.object.position),o.zoom0=o.object.zoom},this.reset=function(){o.target.copy(o.target0),o.object.position.copy(o.position0),o.object.zoom=o.zoom0,o.object.updateProjectionMatrix(),o.dispatchEvent(t),o.update(),i=a.NONE},this.update=function(){const n=new r,l=(new d).setFromUnitVectors(e.up,new r(0,1,0)),m=l.clone().invert(),p=new r,u=new d,E=2*Math.PI;return function(){const e=o.object.position;n.copy(e).sub(o.target),n.applyQuaternion(l),c.setFromVector3(n),o.autoRotate&&i===a.NONE&&R(2*Math.PI/60/60*o.autoRotateSpeed),o.enableDamping?(c.theta+=h.theta*o.dampingFactor,c.phi+=h.phi*o.dampingFactor):(c.theta+=h.theta,c.phi+=h.phi);let r=o.minAzimuthAngle,d=o.maxAzimuthAngle;return isFinite(r)&&isFinite(d)&&(r<-Math.PI?r+=E:r>Math.PI&&(r-=E),d<-Math.PI?d+=E:d>Math.PI&&(d-=E),c.theta=r<=d?Math.max(r,Math.min(d,c.theta)):c.theta>(r+d)/2?Math.max(r,c.theta):Math.min(d,c.theta)),c.phi=Math.max(o.minPolarAngle,Math.min(o.maxPolarAngle,c.phi)),c.makeSafe(),c.radius*=b,c.radius=Math.max(o.minDistance,Math.min(o.maxDistance,c.radius)),!0===o.enableDamping?o.target.addScaledVector(g,o.dampingFactor):o.target.add(g),n.setFromSpherical(c),n.applyQuaternion(m),e.copy(o.target).add(n),o.object.lookAt(o.target),!0===o.enableDamping?(h.theta*=1-o.dampingFactor,h.phi*=1-o.dampingFactor,g.multiplyScalar(1-o.dampingFactor)):(h.set(0,0,0),g.set(0,0,0)),b=1,!!(f||p.distanceToSquared(o.object.position)>s||8*(1-u.dot(o.object.quaternion))>s)&&(o.dispatchEvent(t),p.copy(o.object.position),u.copy(o.object.quaternion),f=!1,!0)}}(),this.dispose=function(){o.domElement.removeEventListener("contextmenu",$),o.domElement.removeEventListener("pointerdown",V),o.domElement.removeEventListener("pointercancel",q),o.domElement.removeEventListener("wheel",Q),o.domElement.removeEventListener("pointermove",W),o.domElement.removeEventListener("pointerup",G),null!==o._domElementKeyEvents&&o._domElementKeyEvents.removeEventListener("keydown",J)};const o=this,a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let i=a.NONE;const s=1e-6,c=new p,h=new p;let b=1;const g=new r;let f=!1;const E=new u,y=new u,O=new u,w=new u,T=new u,v=new u,L=new u,j=new u,N=new u,x=[],M={};function k(){return Math.pow(.95,o.zoomSpeed)}function R(e){h.theta-=e}function Y(e){h.phi-=e}const C=function(){const e=new r;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),g.add(e)}}(),I=function(){const e=new r;return function(t,n){!0===o.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(o.object.up,e)),e.multiplyScalar(t),g.add(e)}}(),S=function(){const e=new r;return function(t,n){const a=o.domElement;if(o.object.isPerspectiveCamera){const i=o.object.position;e.copy(i).sub(o.target);let s=e.length();s*=Math.tan(o.object.fov/2*Math.PI/180),C(2*t*s/a.clientHeight,o.object.matrix),I(2*n*s/a.clientHeight,o.object.matrix)}else o.object.isOrthographicCamera?(C(t*(o.object.right-o.object.left)/o.object.zoom/a.clientWidth,o.object.matrix),I(n*(o.object.top-o.object.bottom)/o.object.zoom/a.clientHeight,o.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),o.enablePan=!1)}}();function D(e){o.object.isPerspectiveCamera?b/=e:o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom*e)),o.object.updateProjectionMatrix(),f=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function _(e){o.object.isPerspectiveCamera?b*=e:o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/e)),o.object.updateProjectionMatrix(),f=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function z(e){E.set(e.clientX,e.clientY)}function H(e){w.set(e.clientX,e.clientY)}function F(){if(1===x.length)E.set(x[0].pageX,x[0].pageY);else{const e=.5*(x[0].pageX+x[1].pageX),t=.5*(x[0].pageY+x[1].pageY);E.set(e,t)}}function X(){if(1===x.length)w.set(x[0].pageX,x[0].pageY);else{const e=.5*(x[0].pageX+x[1].pageX),t=.5*(x[0].pageY+x[1].pageY);w.set(e,t)}}function Z(){const e=x[0].pageX-x[1].pageX,t=x[0].pageY-x[1].pageY,n=Math.sqrt(e*e+t*t);L.set(0,n)}function U(e){if(1==x.length)y.set(e.pageX,e.pageY);else{const t=ne(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);y.set(n,o)}O.subVectors(y,E).multiplyScalar(o.rotateSpeed);const t=o.domElement;R(2*Math.PI*O.x/t.clientHeight),Y(2*Math.PI*O.y/t.clientHeight),E.copy(y)}function K(e){if(1===x.length)T.set(e.pageX,e.pageY);else{const t=ne(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);T.set(n,o)}v.subVectors(T,w).multiplyScalar(o.panSpeed),S(v.x,v.y),w.copy(T)}function B(e){const t=ne(e),n=e.pageX-t.x,a=e.pageY-t.y,i=Math.sqrt(n*n+a*a);j.set(0,i),N.set(0,Math.pow(j.y/L.y,o.zoomSpeed)),D(N.y),L.copy(j)}function V(e){!1!==o.enabled&&(0===x.length&&(o.domElement.setPointerCapture(e.pointerId),o.domElement.addEventListener("pointermove",W),o.domElement.addEventListener("pointerup",G)),function(e){x.push(e)}(e),"touch"===e.pointerType?function(e){switch(te(e),x.length){case 1:switch(o.touches.ONE){case m.ROTATE:if(!1===o.enableRotate)return;F(),i=a.TOUCH_ROTATE;break;case m.PAN:if(!1===o.enablePan)return;X(),i=a.TOUCH_PAN;break;default:i=a.NONE}break;case 2:switch(o.touches.TWO){case m.DOLLY_PAN:if(!1===o.enableZoom&&!1===o.enablePan)return;o.enableZoom&&Z(),o.enablePan&&X(),i=a.TOUCH_DOLLY_PAN;break;case m.DOLLY_ROTATE:if(!1===o.enableZoom&&!1===o.enableRotate)return;o.enableZoom&&Z(),o.enableRotate&&F(),i=a.TOUCH_DOLLY_ROTATE;break;default:i=a.NONE}break;default:i=a.NONE}i!==a.NONE&&o.dispatchEvent(P)}(e):function(e){let t;switch(e.button){case 0:t=o.mouseButtons.LEFT;break;case 1:t=o.mouseButtons.MIDDLE;break;case 2:t=o.mouseButtons.RIGHT;break;default:t=-1}switch(t){case l.DOLLY:if(!1===o.enableZoom)return;!function(e){L.set(e.clientX,e.clientY)}(e),i=a.DOLLY;break;case l.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===o.enablePan)return;H(e),i=a.PAN}else{if(!1===o.enableRotate)return;z(e),i=a.ROTATE}break;case l.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===o.enableRotate)return;z(e),i=a.ROTATE}else{if(!1===o.enablePan)return;H(e),i=a.PAN}break;default:i=a.NONE}i!==a.NONE&&o.dispatchEvent(P)}(e))}function W(e){!1!==o.enabled&&("touch"===e.pointerType?function(e){switch(te(e),i){case a.TOUCH_ROTATE:if(!1===o.enableRotate)return;U(e),o.update();break;case a.TOUCH_PAN:if(!1===o.enablePan)return;K(e),o.update();break;case a.TOUCH_DOLLY_PAN:if(!1===o.enableZoom&&!1===o.enablePan)return;!function(e){o.enableZoom&&B(e),o.enablePan&&K(e)}(e),o.update();break;case a.TOUCH_DOLLY_ROTATE:if(!1===o.enableZoom&&!1===o.enableRotate)return;!function(e){o.enableZoom&&B(e),o.enableRotate&&U(e)}(e),o.update();break;default:i=a.NONE}}(e):function(e){switch(i){case a.ROTATE:if(!1===o.enableRotate)return;!function(e){y.set(e.clientX,e.clientY),O.subVectors(y,E).multiplyScalar(o.rotateSpeed);const t=o.domElement;R(2*Math.PI*O.x/t.clientHeight),Y(2*Math.PI*O.y/t.clientHeight),E.copy(y),o.update()}(e);break;case a.DOLLY:if(!1===o.enableZoom)return;!function(e){j.set(e.clientX,e.clientY),N.subVectors(j,L),N.y>0?D(k()):N.y<0&&_(k()),L.copy(j),o.update()}(e);break;case a.PAN:if(!1===o.enablePan)return;!function(e){T.set(e.clientX,e.clientY),v.subVectors(T,w).multiplyScalar(o.panSpeed),S(v.x,v.y),w.copy(T),o.update()}(e)}}(e))}function G(e){ee(e),0===x.length&&(o.domElement.releasePointerCapture(e.pointerId),o.domElement.removeEventListener("pointermove",W),o.domElement.removeEventListener("pointerup",G)),o.dispatchEvent(A),i=a.NONE}function q(e){ee(e)}function Q(e){!1!==o.enabled&&!1!==o.enableZoom&&i===a.NONE&&(e.preventDefault(),o.dispatchEvent(P),function(e){e.deltaY<0?_(k()):e.deltaY>0&&D(k()),o.update()}(e),o.dispatchEvent(A))}function J(e){!1!==o.enabled&&!1!==o.enablePan&&function(e){let t=!1;switch(e.code){case o.keys.UP:S(0,o.keyPanSpeed),t=!0;break;case o.keys.BOTTOM:S(0,-o.keyPanSpeed),t=!0;break;case o.keys.LEFT:S(o.keyPanSpeed,0),t=!0;break;case o.keys.RIGHT:S(-o.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),o.update())}(e)}function $(e){!1!==o.enabled&&e.preventDefault()}function ee(e){delete M[e.pointerId];for(let t=0;t<x.length;t++)if(x[t].pointerId==e.pointerId)return void x.splice(t,1)}function te(e){let t=M[e.pointerId];void 0===t&&(t=new u,M[e.pointerId]=t),t.set(e.pageX,e.pageY)}function ne(e){const t=e.pointerId===x[0].pointerId?x[1]:x[0];return M[t.pointerId]}o.domElement.addEventListener("contextmenu",$),o.domElement.addEventListener("pointerdown",V),o.domElement.addEventListener("pointercancel",q),o.domElement.addEventListener("wheel",Q,{passive:!1}),this.update()}}const L={createCube(e){const t=new h(1,1,1);let n=new b;const o=new g(t,n);return e&&e.add(o),o},createAxes(e){const t=new f(2);e.add(t)},createCamera(){const e=new E(75,window.innerWidth/window.innerHeight,.1,100);return e.position.set(0,0,5),e.lookAt(0,0,0),e}},j={id:"three",class:"flex justify-center items-center flex-col"};e("_",n({__name:"SingleCube",setup:e=>(o((()=>{var e,t,n;const o=new y,i=O();i.dom.style.top="0",i.dom.style.left="0",i.dom.style.position="absolute";const s=new a({name:"设置",closeOnTop:!0});s.domElement.style.top="0",s.domElement.style.right="0",s.domElement.style.position="absolute",o.setSize(4*window.innerWidth/5,4*window.innerHeight/5),null===(e=document.getElementById("three"))||void 0===e||e.appendChild(o.domElement),null===(t=document.getElementById("three"))||void 0===t||t.appendChild(i.dom),null===(n=document.getElementById("three"))||void 0===n||n.appendChild(s.domElement);const c=new w,r=L.createCube(c),l=s.addFolder("方块属性");l.add(r.material,"wireframe").name("是否显示骨架"),l.open(),L.createAxes(c);const m=L.createCamera(),d=s.addFolder("相机位置");d.open(),d.add(m.position,"x",-15,15,.01).name("相机位置-x"),d.add(m.position,"y",-15,15,.01).name("相机位置-y"),d.add(m.position,"z",-15,15,.01).name("相机位置-z");const p=new v(m,o.domElement);new T,function e(){requestAnimationFrame(e),o.render(c,m),i.update(),p.update()}()})),(e,t)=>(s(),i("div",j)))}))}}}));
