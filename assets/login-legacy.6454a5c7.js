!function(){function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,l)}return r}function t(t){for(var l=1;l<arguments.length;l++){var a=null!=arguments[l]?arguments[l]:{};l%2?e(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function r(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var l=r.call(e,t||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}System.register(["./base-legacy.38854648.js","./logo-legacy.9317aa1c.js","./button-legacy.1437b25c.js","./input-legacy.13394860.js","./index-legacy.e18a26ca.js","./index-legacy.f062f27b.js","./route-block-legacy.509c7347.js","./constants-legacy.5c83ba09.js","./use-form-item-legacy.a719f71f.js","./event-legacy.7722cbb2.js","./_baseClone-legacy.7ab23f44.js","./_Uint8Array-legacy.6e03d40b.js","./_initCloneObject-legacy.f5f0eb45.js","./_getTag-legacy.0fe4d496.js","./favicon-legacy.13288711.js","./index-legacy.b04618f5.js","./index-legacy.b33c6eb8.js","./isNil-legacy.e248952d.js"],(function(e,r){"use strict";var l,a,n,o,u,s,i,c,d,g,b,f,p,y,m,j,v,w,_,h,O,x,P,k,S,E,V;return{setters:[null,e=>{l=e._,a=e.E,n=e.a},e=>{o=e.E},null,e=>{u=e.g,s=e.J,i=e.j,c=e.ay,d=e.az,g=e.K,b=e.aA,f=e.r,p=e.o,y=e.z,m=e.A,j=e.w,v=e.p,w=e.s,_=e.a9,h=e.aD,O=e.a_,x=e.a$,P=e.aV,k=e.aY,S=e.b0},e=>{E=e.E},e=>{V=e.b},null,null,null,null,null,null,null,null,null,null,null],execute:function(){var r={class:"h-screen font-github"},C={class:"flex justify-center items-center flex-col"},D=v("div",{class:"font-300 text-2xl tracking-github mb-4"}," Sign in to tov-template ",-1),U={class:"h-67 w-77 bg-github_bg dark:bg-github_bg_dark border-github_b rounded-xl border-1 p-4"},T={class:"mt-3 w-77 border-github_b rounded-xl border-1 p-4"},A={class:"text-github_a"},M=u({beforeRouteEnter(e,t,r){r((e=>{h.isEmpty(O().value)||e.router.replace(t.path)}))}}),N=e("default",u(t(t({},M),{},{__name:"login",setup(e,t){var u=t.expose,h=s({username:"",password:""}),V=i(),M=c(),N=d();g((()=>{}));var z=(e,t)=>{t&&(h.username="大哥",h.password="110"),e&&e.validate((e=>{if(!e)return!1;x()(h.username,h.password).then((e=>{O().value=e.getSessionToken(),P.success(`登录成功，欢迎您${e.getUsername()}回来~`);var t=k(S()).fromParams;M.push(t.value.fromPath)}),(e=>{e.rawMessage&&P.error(e.rawMessage)}))}))};return u({router:M,currentUser:b,route:N}),(e,t)=>{var u=l,s=E,i=a,c=o,d=f("router-link"),g=n;return p(),y("div",r,[m(g,{ref_key:"ruleFormRef",ref:V,model:w(h),"label-position":"top"},{default:j((()=>[v("div",C,[m(u),D,v("div",U,[m(i,{label:"Phone number"},{default:j((()=>[m(s,{modelValue:w(h).username,"onUpdate:modelValue":t[0]||(t[0]=e=>w(h).username=e)},null,8,["modelValue"])])),_:1}),m(i,{label:"Password"},{default:j((()=>[m(s,{modelValue:w(h).password,"onUpdate:modelValue":t[1]||(t[1]=e=>w(h).password=e),type:"password",autocomplete:"off"},null,8,["modelValue"])])),_:1}),m(i,null,{default:j((()=>[m(c,{class:"w-full rounded-2xl shadow-github_button",color:"#2da44e",type:"primary",onClick:t[2]||(t[2]=e=>z(w(V)))},{default:j((()=>[_("Sign in")])),_:1})])),_:1}),m(i,null,{default:j((()=>[m(c,{class:"w-full rounded-2xl shadow-github_button",color:"#2da44e",type:"primary",onClick:t[3]||(t[3]=e=>z(w(V),!0))},{default:j((()=>[_("匿名登陆")])),_:1})])),_:1})]),v("div",T,[_(" New to Tov? "),v("a",A,[m(d,{to:"signup"},{default:j((()=>[_("Create an account")])),_:1})]),_(" . ")])])])),_:1},8,["model"])])}}})));"function"==typeof V&&V(N)}}}))}();
