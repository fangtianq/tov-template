import{_ as U}from"./users.vue_vue_type_script_setup_true_lang-8a6a6b83.js";import{_ as D}from"./rolePermission.vue_vue_type_script_setup_true_lang-07ddcfd8.js";import{_ as M}from"./temp.vue_vue_type_script_setup_true_lang-56662083.js";import{a as u}from"./request-8ed27ecb.js";import{d as N,n as l,x as $,ax as j,cs as _,o as c,P as d,a4 as a,Q as b,U as z,a3 as t,w as e,S as f,au as w}from"./index-17a45ce3.js";import{_ as A}from"./Button-e394caf6.js";import{_ as E,a as T,b as P,c as Q}from"./Tabs-ab58916f.js";import{_ as q}from"./Input-b0dd9190.js";import{_ as F}from"./Space-1eda4b35.js";/* empty css              */import"./Tag-ef01cf6f.js";import"./use-rtl-955f026c.js";import"./merge-6b127db5.js";import"./_Uint8Array-e2235e95.js";import"./_initCloneObject-b71613ce.js";import"./identity-46f208ab.js";import"./light-caeb84cf.js";import"./Close-bb5e52ab.js";import"./Icon-01f83aaa.js";/* empty css             *//* empty css              *//* empty css            */import"./select-9f589f1e.js";import"./popper-05a86f86.js";import"./isNil-c75b1b34.js";import"./constants-77335b9d.js";import"./focus-trap-19601dde.js";import"./index-142fdb78.js";import"./event-1da57d2d.js";import"./use-form-item-c7fe8a98.js";import"./scrollbar-1f17c031.js";import"./index-a4c574d8.js";import"./strings-9451888d.js";import"./index-8d1b25bc.js";import"./scroll-524cbce3.js";import"./isEqual-2c7404a4.js";import"./_baseIsEqual-434c38cc.js";import"./_getTag-cff77ea1.js";import"./debounce-fa733403.js";import"./_baseIteratee-6f6e480b.js";import"./validator-fd9640ed.js";import"./checkbox-ae9d1093.js";import"./rolePermissionModify.vue_vue_type_script_setup_true_lang-d65231a2.js";import"./index-f1c54c8b.js";import"./cssr-8fabc598.js";import"./index-414d99d5.js";import"./throttle-bcdc9b63.js";const G={key:0,class:"pt-4 px-10"},H={class:"flex justify-between py-4"},I={key:1,class:"flex flex-col justify-center items-center p-10"},Qt=N({__name:"index",setup(J){const x=l(null),o=l({user:{username:"sang",password:"123"}}),g=l({username:"",nickname:""}),v=()=>{u.get("/8080/auth/currentUser").then(r=>{g.value.nickname=r.data.nickname})};$(()=>{h.value.token&&v()});const y=r=>{r.preventDefault(),u.post("/8080/login",{username:o.value.user.username,password:o.value.user.password}).then(n=>{if(n.data.status=="error"){w.error(n.data.msg);return}const s=n.data.msg;_().changetShiro({token:s}),v()})},S=r=>{r.preventDefault(),u.post("/8080/reg",{username:o.value.user.username,nickname:o.value.user.username},{password:o.value.user.password}).then(n=>{w.error(n.data.msg)})};let{SpringBootShiroAuthorization:h}=j(_());const C=()=>{_().changetShiro({token:""})};return(r,n)=>{const s=A,m=E,B=T,k=q,p=P,V=F,R=Q;return c(),d("div",null,[a(h).token?(c(),d("div",G,[b("div",H,[b("div",null,"你好！"+z(a(g).nickname),1),t(s,{"attr-type":"button",onClick:C},{default:e(()=>[f(" 登出 ")]),_:1})]),t(B,{"default-value":"users",type:"segment",animated:""},{default:e(()=>[t(m,{name:"users",tab:"用户"},{default:e(()=>[t(U)]),_:1}),t(m,{name:"permission",tab:"角色权限"},{default:e(()=>[t(D)]),_:1}),t(m,{name:"signup111",tab:"temp"},{default:e(()=>[t(M)]),_:1})]),_:1})])):(c(),d("div",I,[t(R,{ref_key:"formRef",ref:x,"label-width":80,model:a(o),class:"w-30rem"},{default:e(()=>[t(p,{label:"用户名",path:"user.username"},{default:e(()=>[t(k,{value:a(o).user.username,"onUpdate:value":n[0]||(n[0]=i=>a(o).user.username=i),placeholder:"输入用户名"},null,8,["value"])]),_:1}),t(p,{label:"密码",path:"user.password"},{default:e(()=>[t(k,{value:a(o).user.password,"onUpdate:value":n[1]||(n[1]=i=>a(o).user.password=i),placeholder:"输入密码"},null,8,["value"])]),_:1}),t(p,null,{default:e(()=>[t(V,null,{default:e(()=>[t(s,{"attr-type":"button",onClick:y},{default:e(()=>[f(" 登录 ")]),_:1}),t(s,{"attr-type":"button",onClick:S},{default:e(()=>[f(" 注册 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]))])}}});export{Qt as default};
