import{a as r}from"./index-93948f7b.js";import{aM as h,aN as m,aO as d,aP as g}from"./index-0d0d9543.js";import"./index.es-6f9fb09c.js";const x=(e,o)=>r.post(`/api${e}`,{...o}),T=(e,o="301284")=>{let s={...e.header};const n=e.method||"get";let{ajaxTimes:t}=h(m());const c=d()();s.Authorization=c.getSessionToken,t.value++;const i=g({message:"Loading",type:"success"}),u=`http://rap2api.taobao.org/app/mock/${o}/${n}`;return new Promise((l,p)=>{r({...e,header:s,url:u+e.url}).then(a=>{l(a.data)}).catch(a=>{p(a)}).then(()=>{t.value--,(t.value===0||t.value!==0)&&i.close()})})};export{x as p,T as r};
