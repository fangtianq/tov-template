import{d as h,ao as y,m as V,n as C,b0 as P,o as R,aO as S,r as F,a as B,b as M,h as o,w as s,b1 as N,b2 as v,e as u,j as i,b3 as T,aP as b,aM as U,b4 as $}from"./index-e6abbe05.js";/* empty css             */import{E as j,a as I,_ as O}from"./logo-af05e016.js";import{E as q}from"./button-23219e73.js";/* empty css              */import{E as z}from"./index-10bd5ec9.js";import{b as g}from"./route-block-83d24a4e.js";import"./event-e06a23af.js";import"./index-dde27bf1.js";import"./_Uint8Array-dfbcb46b.js";import"./favicon-d22aecf5.js";import"./index-0b239f7c.js";import"./index-e0125217.js";import"./index-94ce4232.js";import"./isNil-c75b1b34.js";const A={class:"h-screen font-github"},D={class:"flex justify-center items-center flex-col"},G=u("div",{class:"font-300 text-2xl tracking-github mb-4"}," Sign in to tov-template ",-1),H={class:"h-67 w-77 bg-github_bg dark:bg-github_bg_dark border-github_b rounded-xl border-1 p-4"},J=i("Sign in"),K=i("匿名登陆"),L={class:"mt-3 w-77 border-github_b rounded-xl border-1 p-4"},Q=i(" New to Tov? "),W={class:"text-github_a"},X=i("Create an account"),Y=i(" . "),Z=h({name:"***",beforeRouteEnter(w,m,e){e(n=>{N.isEmpty(v().value)||n.router.replace(m.path)})}}),ee=h({...Z,setup(w,{expose:m}){const e=y({username:"",password:""}),n=V(),p=C(),k=P();R(()=>{});const c=(d,t)=>{t&&(e.username="大哥",e.password="110"),d&&d.validate(_=>{if(_)T()(e.username,e.password).then(r=>{v().value=r.getSessionToken(),b.success(`登录成功，欢迎您${r.getUsername()}回来~`);let{fromParams:a}=U($());p.push(a.value.fromPath)},r=>{b.error(r.rawMessage)});else return!1})};return m({router:p,currentUser:S,route:k}),(d,t)=>{const _=O,r=z,a=j,f=q,x=F("router-link"),E=I;return B(),M("div",A,[o(E,{ref_key:"ruleFormRef",ref:n,model:e,"label-position":"top"},{default:s(()=>[u("div",D,[o(_),G,u("div",H,[o(a,{label:"Phone number"},{default:s(()=>[o(r,{modelValue:e.username,"onUpdate:modelValue":t[0]||(t[0]=l=>e.username=l)},null,8,["modelValue"])]),_:1}),o(a,{label:"Password"},{default:s(()=>[o(r,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=l=>e.password=l),type:"password",autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(a,null,{default:s(()=>[o(f,{class:"w-full rounded-2xl shadow-github_button",color:"#2da44e",type:"primary",onClick:t[2]||(t[2]=l=>c(n.value))},{default:s(()=>[J]),_:1})]),_:1}),o(a,null,{default:s(()=>[o(f,{class:"w-full rounded-2xl shadow-github_button",color:"#2da44e",type:"primary",onClick:t[3]||(t[3]=l=>c(n.value,!0))},{default:s(()=>[K]),_:1})]),_:1})]),u("div",L,[Q,u("a",W,[o(x,{to:"signup"},{default:s(()=>[X]),_:1})]),Y])])]),_:1},8,["model"])])}}});typeof g=="function"&&g(ee);export{ee as default};
