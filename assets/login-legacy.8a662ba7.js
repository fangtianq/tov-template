!function(){function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function t(t){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?e(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}System.register(["./index-legacy.70a9f988.js","./favicon-legacy.299c2d3d.js","./route-block-legacy.416ddcc8.js","./index-legacy.ca9b60ce.js","./index-legacy.9705a1c5.js"],(function(e){"use strict";var r,o,n,a,l,s,u,c,i,d,f,b,p,m,g,y,h,w,v,j,O,x,P,_,k;return{setters:[function(e){r=e.d,o=e.al,n=e.l,a=e.o,l=e.am,s=e.f,u=e.j,c=e.w,i=e.an,d=e.ao,f=e.m,b=e.ap,p=e.e,m=e.h,g=e.k,y=e.aq,h=e.ar,w=e.aj,v=e.as},function(e){j=e.E,O=e.a,x=e.b,P=e.c,_=e._},function(e){k=e.b},function(){},function(){}],execute:function(){const S={class:"bg-white h-screen font-github"},V={class:"flex justify-center items-center flex-col"},E=m("div",{class:"p-8"},[m("img",{src:_,class:"w-12 h-12",alt:"tov"})],-1),D=m("div",{class:"font-300 text-2xl tracking-github mb-4"}," Sign in to tov-template ",-1),U={class:"h-57 w-77 bg-github_bg border-github_b rounded-xl border-1 p-4"},C=g("Sign in"),R=m("div",{class:"mt-3 w-77 bg-white border-github_b rounded-xl border-1 p-4"},[g(" New to Tov? "),m("a",{href:"signup",class:"text-github_a"},"Create an account"),g(" . ")],-1),T=r({name:"***",beforeRouteEnter(e,t,r){r((e=>{i.isEmpty(d().value)||e.router.replace(t.path)}))}}),q=e("default",r(t(t({},T),{},{setup(e,t){let r=t.expose;const i=o({username:"",password:""}),g=n(),_=f(),k=b();a((()=>{}));return r({router:_,currentUser:l,route:k}),(e,t)=>{const r=j,o=O,n=x,a=P;return p(),s("div",S,[u(a,{ref_key:"ruleFormRef",ref:g,model:i,"label-position":"top"},{default:c((()=>[m("div",V,[E,D,m("div",U,[u(o,{label:"Phone number"},{default:c((()=>[u(r,{modelValue:i.username,"onUpdate:modelValue":t[0]||(t[0]=e=>i.username=e)},null,8,["modelValue"])])),_:1}),u(o,{label:"Password"},{default:c((()=>[u(r,{modelValue:i.password,"onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e),type:"password",autocomplete:"off"},null,8,["modelValue"])])),_:1}),u(o,null,{default:c((()=>[u(n,{class:"w-full rounded-2xl shadow-github_button",color:"#2da44e",type:"primary",onClick:t[2]||(t[2]=e=>{var t;(t=g.value)&&t.validate((e=>{if(!e)return!1;y(i.username,i.password).then((e=>{d().value=e.getSessionToken(),h.success(`登录成功，欢迎您${e.getUsername()}回来~`);let t=w(v()).fromParams;_.push(t.value.fromPath)}),(e=>{h.error(e.rawMessage)}))}))})},{default:c((()=>[C])),_:1})])),_:1})]),R])])),_:1},8,["model"])])}}})));"function"==typeof k&&k(q)}}}))}();
