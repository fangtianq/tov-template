System.register(["./add-legacy.b39990ff.js","./request-legacy.d20290b8.js","./index-legacy.7a69c0b7.js","./Tag-legacy.2e6a6824.js","./use-rtl-legacy.f56a8bd0.js","./Button-legacy.3f761ec7.js","./light-legacy.c932a67f.js","./Icon-legacy.e8721ac1.js","./Input-legacy.f0306500.js","./Space-legacy.b7aea2c7.js"],(function(e,t){"use strict";var a,l,s,i,n,r,u,d,o,c,h,p,g,m,v,y,f,b,C,j,S,O,T,x,I,k,F,w,z,V,_,A,D,B,R,P,U,$,E,K,M,N,W;return{setters:[e=>{a=e._},e=>{l=e.a},e=>{s=e.d,i=e.l,n=e.e,r=e.ar,u=e.f,d=e.m,o=e.h,c=e.o,h=e.a,p=e.b,g=e.A,m=e.F,v=e.D,y=e.c,f=e.x,b=e.B,C=e.y,j=e.w,S=e.z,O=e.a3,T=e.H},e=>{x=e.t,I=e._,k=e.c},e=>{F=e.e,w=e.c,z=e.u,V=e.f},e=>{_=e.d,A=e.a,D=e._},e=>{B=e.c,R=e.f,P=e.e,U=e.d},e=>{$=e.u,E=e.N},e=>{K=e.i,M=e._},e=>{N=e.s,W=e._}],execute:function(){var t=e("A",s({name:"Add",render:()=>i("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))})),H=F({name:"DynamicTags",common:B,peers:{Input:K,Button:_,Tag:x,Space:N},self:()=>({inputWidth:"64px"})}),L=w("dynamic-tags",[w("input",{minWidth:"var(--n-input-width)"})]),q=Object.assign(Object.assign(Object.assign({},V.props),k),{size:{type:String,default:"medium"},closable:{type:Boolean,default:!0},defaultValue:{type:Array,default:()=>[]},value:Array,inputClass:String,inputStyle:[String,Object],inputProps:Object,max:Number,tagClass:String,tagStyle:[String,Object],renderTag:Function,onCreate:{type:Function,default:e=>e},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onChange:[Function,Array]}),Q=s({name:"DynamicTags",props:q,setup(e){var t=z(e),a=t.mergedClsPrefixRef,l=t.inlineThemeDisabled,s=A("DynamicTags").localeRef,i=R(e),o=i.mergedDisabledRef,c=n(""),h=n(!1),p=n(!0),g=n(null),m=V("DynamicTags","-dynamic-tags",L,H,e,a),v=n(e.defaultValue),y=r(e,"value"),f=$(y,v),b=u((()=>s.value.add)),C=u((()=>function(e){switch(e){case"tiny":return"mini";case"small":return"tiny";case"medium":return"small";case"large":return"medium";case"huge":return"large"}throw Error(`${e} has no smaller size.`)}(e.size))),j=u((()=>o.value||!!e.max&&f.value.length>=e.max));function S(t){var a=e.onChange,l=e["onUpdate:value"],s=e.onUpdateValue,n=i.nTriggerFormInput,r=i.nTriggerFormChange;a&&U(a,t),s&&U(s,t),l&&U(l,t),v.value=t,n(),r()}function O(t){var a=null!=t?t:c.value;if(a){var l=f.value.slice(0);l.push(e.onCreate(a)),S(l)}h.value=!1,p.value=!0,c.value=""}var T=u((()=>({"--n-input-width":m.value.self.inputWidth}))),x=l?P("dynamic-tags",void 0,T,e):void 0;return{mergedClsPrefix:a,inputInstRef:g,localizedAdd:b,inputSize:C,inputValue:c,showInput:h,inputForceFocused:p,mergedValue:f,mergedDisabled:o,triggerDisabled:j,handleInputKeyUp:function(e){"Enter"===e.key&&O()},handleAddClick:function(){h.value=!0,d((()=>{var e;null===(e=g.value)||void 0===e||e.focus(),p.value=!1}))},handleInputBlur:function(){O()},handleCloseClick:function(e){var t=f.value.slice(0);t.splice(e,1),S(t)},handleInputConfirm:O,mergedTheme:m,cssVars:l?void 0:T,themeClass:null==x?void 0:x.themeClass,onRender:null==x?void 0:x.onRender}},render(){var e=this.mergedTheme,a=this.cssVars,l=this.mergedClsPrefix,s=this.onRender,n=this.renderTag;return null==s||s(),i(W,{class:[`${l}-dynamic-tags`,this.themeClass],size:"small",style:a,theme:e.peers.Space,themeOverrides:e.peerOverrides.Space,itemStyle:"display: flex;"},{default:()=>{var e=this.mergedTheme,a=this.tagClass,s=this.tagStyle,r=this.type,u=this.round,d=this.size,o=this.color,c=this.closable,h=this.mergedDisabled,p=this.showInput,g=this.inputValue,m=this.inputClass,v=this.inputStyle,y=this.inputSize,f=this.inputForceFocused,b=this.triggerDisabled,C=this.handleInputKeyUp,j=this.handleInputBlur,S=this.handleAddClick,O=this.handleCloseClick,T=this.handleInputConfirm,x=this.$slots;return this.mergedValue.map(((t,l)=>n?n(t,l):i(I,{key:l,theme:e.peers.Tag,themeOverrides:e.peerOverrides.Tag,class:a,style:s,type:r,round:u,size:d,color:o,closable:c,disabled:h,onClose:()=>{O(l)}},{default:()=>"string"==typeof t?t:t.label}))).concat(p?x.input?x.input({submit:T,deactivate:j}):i(M,Object.assign({placeholder:"",size:y,style:v,class:m,autosize:!0},this.inputProps,{ref:"inputInstRef",value:g,onUpdateValue:e=>{this.inputValue=e},theme:e.peers.Input,themeOverrides:e.peerOverrides.Input,onKeyup:C,onBlur:j,internalForceFocus:f})):x.trigger?x.trigger({activate:S,disabled:b}):i(D,{dashed:!0,disabled:b,theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,size:y,onClick:S},{icon:()=>i(E,{clsPrefix:l},{default:()=>i(t,null)})}))}})}}),G={class:"pb-4"},J={class:"bg-#f4f4f8 text-#333639 px-4 py-2"};e("_",s({__name:"rolePermissionModify",props:{refresh:{type:Function,default:()=>()=>{}}},setup(e){var t=e,s=n([]),i=n([]),r=n([]),u=e=>({label:"ROLE_"+e,value:"v"+e}),d=e=>{var a,s=i.value;if(s.length>e.length)l.get("/8080/admin/role/delete",{id:null===(a=s.at(-1))||void 0===a?void 0:a.id}).then((e=>{O[`${e.data.status}`](`${e.data.msg}`)}));else if(s.length<e.length){var n;l.get("/8080/admin/role/add",{name:null===(n=e.at(-1))||void 0===n?void 0:n.label}).then((e=>{O[`${e.data.status}`](`${e.data.msg}`)}))}setTimeout((()=>{x(),t.refresh()}),500)},x=()=>{l.get("/8080/admin/roles").then((e=>{var t=e.data;s.value=T.take(t,5),i.value=T.slice(t,5),r.value=T.slice(t,5).map((e=>e.name))}))};return o((()=>{x()})),(e,t)=>{var l=I,i=a,n=D,o=Q;return c(),h("div",G,[p("div",J,[g(" 默认角色："),(c(!0),h(m,null,v(C(s),(e=>(c(),y(l,{key:e.id,class:"ml-4",type:"success"},{default:f((()=>[g(b(e.name),1)])),_:2},1024)))),128))]),p("div",null,[g(" 添加角色："),j(o,{value:C(r),"onUpdate:value":[t[0]||(t[0]=e=>S(r)?r.value=e:null),d],onCreate:u},{trigger:f((e=>{var t=e.activate,a=e.disabled;return[j(n,{size:"small",type:"primary",dashed:"",disabled:a,onClick:e=>t()},{icon:f((()=>[j(i)])),default:f((()=>[g(" 添加 ")])),_:2},1032,["disabled","onClick"])]})),_:1},8,["value"])])])}}}))}}}));
