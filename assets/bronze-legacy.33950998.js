System.register(["./index-legacy.059e843d.js"],(function(e,t){"use strict";var n,l,s,a,o,i,u,d,r,c,v,y,D,A,G,k,m,b,O,x,h;return{setters:[e=>{n=e.d,l=e.H,s=e.l,a=e.I,o=e.J,i=e.Q,u=e.o,d=e.e,r=e.F,c=e.s,v=e.h,y=e.i,D=e.w,A=e.f,G=e.t,k=e.K,m=e.L,b=e.A,O=e.r,x=e.j,h=e.k}],execute:function(){const t={class:"flex justify-center items-center flex-col"},f=A("h1",{class:"text-7xl"},"LiveQuery",-1),g={class:"w-50 pl-2 pr-2 inline-block"},p={class:"inline-block"},L=A("div",{class:"cursor-move"},"ðŸ‘‹ Drag here!",-1),R=A("div",{class:"text-xs opacity-50"},"Handle that triggers the drag event",-1),B={class:"text-sm opacity-50"};e("default",n({__name:"bronze",setup(e){const n=l(i.TODO.name);let E=s();n.find().then((e=>{E.value=e})),n.subscribe().then((e=>{e.on("create",(e=>{E.value.push(e)})),e.on("enter",((e,t)=>{})),e.on("update",((e,t)=>{const n=E.value.findIndex((t=>t.id==(null==e?void 0:e.id)));E.value[n]=e})),e.on("delete",(e=>{E.value=E.value.filter((t=>t.id!=(null==e?void 0:e.id)))}))}));const j=()=>{const e=new(m.Object.extend(i.TODO.name));e.set(i.TODO.keys.content,"Hello world!"),e.set(i.TODO.keys.done,!0),e.set(i.TODO.keys.user,b()()),e.save().then((e=>{}))},T=s(null);let V=a(T,{initialValue:{x:40,y:40}}),w=V.x,C=V.y,I=V.style;const z=[s(w),s(C)],U=z[0],W=z[1];let _=s();o([U,W],(()=>{const e=m.Object.createWithoutData(i.DRAGGABLE.name,_.value);e.set(i.DRAGGABLE.keys.x,U.value),e.set(i.DRAGGABLE.keys.y,W.value),e.save()}),{debounce:500});const H=l(i.DRAGGABLE.name),M=(e,t)=>{const n=new(m.Object.extend(i.DRAGGABLE.name));return n.set(i.DRAGGABLE.keys.name,"bronzeDrag"),n.set(i.DRAGGABLE.keys.x,e),n.set(i.DRAGGABLE.keys.y,t),n.save(),n},Q=e=>{if(e)return w.value=e.x,void(C.value=e.y);H.find().then((e=>{if(null!=e&&e.length){const t=e.filter((e=>"bronzeDrag"==e.get(i.DRAGGABLE.keys.name)))[0];w.value=t.get(i.DRAGGABLE.keys.x),C.value=t.get(i.DRAGGABLE.keys.y),_=s(t.id)}else Q(M(40,40))}),(e=>{"101"==e.code&&Q(M(40,40))}))};return H.subscribe().then((e=>{e.on("create",(e=>{_=s(e.id),w.value=e.get(i.DRAGGABLE.keys.x),C.value=e.get(i.DRAGGABLE.keys.y)})),e.on("enter",((e,t)=>{})),e.on("update",((e,t)=>{_=s(e.id),w.value=e.get(i.DRAGGABLE.keys.x),C.value=e.get(i.DRAGGABLE.keys.y)})),e.on("delete",(e=>{}))})),u((()=>{})),Q(null),(e,n)=>{const l=O("el-switch"),s=O("el-input"),a=O("i-mdi:delete"),o=O("el-button");return x(),d("div",t,[f,(x(!0),d(r,null,c(v(E),(e=>(x(),d("div",{key:e.id,class:"flex items-center justify-center p-2"},[y(l,{modelValue:e.attributes.done,"onUpdate:modelValue":t=>e.attributes.done=t,onClick:t=>((e,t)=>{const n=m.Object.createWithoutData(i.TODO.name,e);n.set(i.TODO.keys.done,t),n.save()})(e.id,e.attributes.done)},null,8,["modelValue","onUpdate:modelValue","onClick"]),A("div",g,[y(s,{modelValue:e.attributes.content,"onUpdate:modelValue":t=>e.attributes.content=t,clearable:"",onInput:t=>((e,t)=>{const n=m.Object.createWithoutData(i.TODO.name,e);n.set(i.TODO.keys.content,t),n.save()})(e.id,e.attributes.content)},null,8,["modelValue","onUpdate:modelValue","onInput"])]),A("div",p,[y(a,{class:"mt-1",onClick:t=>{return n=e.id,void m.Object.createWithoutData(i.TODO.name,n).destroy();var n}},null,8,["onClick"])])])))),128)),y(o,{onClick:j},{default:D((()=>[h(" ç‚¹å‡»æ·»åŠ ")])),_:1}),A("div",{ref_key:"settingRef",ref:T,style:k(v(I)),class:"bg-light-50 fixed shadow select-none z-10 hover:shadow-lg px-4 py-2 border-gray-400/30 rounded fixed"},[L,R,A("div",B," I am at "+G(Math.round(v(w)))+", "+G(Math.round(v(C))),1)],4)])}}}))}}}));
