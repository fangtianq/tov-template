/* empty css             */import{_ as V,E as S,a as C}from"./logo-b79f2b10.js";import{E as R}from"./button-6ca74421.js";/* empty css              */import{d as v,H as B,f as F,av as P,aw as N,I as T,ax as U,a7 as I,j as M,x as $,y as o,w as s,m as i,p as a,a8 as m,aB as j,aX as x,aY as q,aS as h,aV as H,aZ as X}from"./index-dc3531f8.js";import{E as Y}from"./index-d602e332.js";import{b as w}from"./route-block-83d24a4e.js";import"./constants-aa97fbe0.js";import"./use-form-item-0b48f4ce.js";import"./event-e06a23af.js";import"./_baseClone-22a22836.js";import"./_Uint8Array-f6863194.js";import"./_initCloneObject-dc7b7677.js";import"./_getTag-6926013a.js";import"./favicon-d22aecf5.js";import"./index-b24ab73b.js";import"./index-86a38320.js";import"./isNil-c75b1b34.js";const Z={class:"h-screen font-github"},z={class:"flex justify-center items-center flex-col"},A=i("div",{class:"font-300 text-2xl tracking-github mb-4"}," Sign in to tov-template ",-1),D={class:"h-67 w-77 bg-github_bg dark:bg-github_bg_dark border-github_b rounded-xl border-1 p-4"},G={class:"mt-3 w-77 border-github_b rounded-xl border-1 p-4"},J={class:"text-github_a"},K=v({beforeRouteEnter(k,d,e){e(l=>{j.isEmpty(x().value)||l.router.replace(d.path)})}}),L=v({...K,__name:"login",setup(k,{expose:d}){const e=B({username:"",password:""}),l=F(),f=P(),p=N();T(()=>{p.params,p.query});const b=(_,t)=>{t&&(e.username="大哥",e.password="110"),_&&_.validate(c=>{if(c)q()(e.username,e.password).then(r=>{x().value=r.getSessionToken(),h.success(`登录成功，欢迎您${r.getUsername()}回来~`);let{fromParams:n}=H(X());f.push(n.value.fromPath)},r=>{h.error(r.rawMessage)});else return!1})};return d({router:f,currentUser:U,route:p}),(_,t)=>{const c=V,r=Y,n=S,g=R,y=I("router-link"),E=C;return M(),$("div",Z,[o(E,{ref_key:"ruleFormRef",ref:l,model:a(e),"label-position":"top"},{default:s(()=>[i("div",z,[o(c),A,i("div",D,[o(n,{label:"Phone number"},{default:s(()=>[o(r,{modelValue:a(e).username,"onUpdate:modelValue":t[0]||(t[0]=u=>a(e).username=u)},null,8,["modelValue"])]),_:1}),o(n,{label:"Password"},{default:s(()=>[o(r,{modelValue:a(e).password,"onUpdate:modelValue":t[1]||(t[1]=u=>a(e).password=u),type:"password",autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(n,null,{default:s(()=>[o(g,{class:"w-full rounded-2xl shadow-github_button",color:"#2da44e",type:"primary",onClick:t[2]||(t[2]=u=>b(a(l)))},{default:s(()=>[m("Sign in")]),_:1})]),_:1}),o(n,null,{default:s(()=>[o(g,{class:"w-full rounded-2xl shadow-github_button",color:"#2da44e",type:"primary",onClick:t[3]||(t[3]=u=>b(a(l),!0))},{default:s(()=>[m("匿名登陆")]),_:1})]),_:1})]),i("div",G,[m(" New to Tov? "),i("a",J,[o(y,{to:"signup"},{default:s(()=>[m("Create an account")]),_:1})]),m(" . ")])])]),_:1},8,["model"])])}}});typeof w=="function"&&w(L);export{L as default};
