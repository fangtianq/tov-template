import{d as b,aF as F,m as V,o as y,aW as C,a as B,f as o,w as r,aX as R,aY as g,n as S,aZ as P,h as U,b as a,i,a_ as N,a$ as c,aU as T,b0 as M,r as $}from"./index.76f65fa7.js";/* empty css             */import{E as I,a as j,_ as A}from"./logo.216fde50.js";import{E as D}from"./button.cd566479.js";import{E as W}from"./input.225a5746.js";import{b as f}from"./route-block.6a611cbf.js";import"./error.52cb36a5.js";import"./index.20bed6b0.js";import"./favicon.eb9475ba.js";import"./index.2591af36.js";import"./index.a90e2e3e.js";import"./index.b49062f4.js";import"./event.ff07fee5.js";import"./isNil.aac33454.js";const X={class:"h-screen font-github"},Y={class:"flex justify-center items-center flex-col"},Z=a("div",{class:"font-300 text-2xl tracking-github mb-4"}," Sign in to tov-template ",-1),q={class:"h-57 w-77 bg-github_bg dark:bg-github_bg_dark border-github_b rounded-xl border-1 p-4"},z=i("Sign in"),G={class:"mt-3 w-77 border-github_b rounded-xl border-1 p-4"},H=i(" New to Tov? "),J={class:"text-github_a"},K=i("Create an account"),L=i(" . "),O=b({name:"***",beforeRouteEnter(h,m,e){e(n=>{R.isEmpty(g().value)||n.router.replace(m.path)})}}),Q=b({...O,setup(h,{expose:m}){const e=F({username:"",password:""}),n=V(),p=S(),v=P();y(()=>{});const w=_=>{!_||_.validate(t=>{if(t)N()(e.username,e.password).then(s=>{g().value=s.getSessionToken(),c.success(`\u767B\u5F55\u6210\u529F\uFF0C\u6B22\u8FCE\u60A8${s.getUsername()}\u56DE\u6765~`);let{fromParams:l}=T(M());p.push(l.value.fromPath)},s=>{c.error(s.rawMessage)});else return!1})};return m({router:p,currentUser:C,route:v}),(_,t)=>{const s=A,l=W,d=I,k=D,x=$("router-link"),E=j;return U(),B("div",X,[o(E,{ref_key:"ruleFormRef",ref:n,model:e,"label-position":"top"},{default:r(()=>[a("div",Y,[o(s),Z,a("div",q,[o(d,{label:"Phone number"},{default:r(()=>[o(l,{modelValue:e.username,"onUpdate:modelValue":t[0]||(t[0]=u=>e.username=u)},null,8,["modelValue"])]),_:1}),o(d,{label:"Password"},{default:r(()=>[o(l,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=u=>e.password=u),type:"password",autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(d,null,{default:r(()=>[o(k,{class:"w-full rounded-2xl shadow-github_button",color:"#2da44e",type:"primary",onClick:t[2]||(t[2]=u=>w(n.value))},{default:r(()=>[z]),_:1})]),_:1})]),a("div",G,[H,a("a",J,[o(x,{to:"signup"},{default:r(()=>[K]),_:1})]),L])])]),_:1},8,["model"])])}}});typeof f=="function"&&f(Q);export{Q as default};
