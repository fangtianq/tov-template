System.register(["./index-legacy.6b320323.js","./request-legacy.14b4bd85.js","./Tag-legacy.9c674d42.js","./use-rtl-legacy.7fa50600.js","./Button-legacy.4dbacdf3.js","./light-legacy.a096c720.js","./Icon-legacy.d4dab0cf.js","./Input-legacy.2fcf2f0d.js","./Space-legacy.d830cd93.js"],(function(e,t){"use strict";var a,n,i,l,s,r,u,d,o,c,h,p,g,m,v,y,f,b,C,x,j,O,T,w,I,S,k,z,F,V,A,B,_,D,R,U,P,$,M,E,K,N;return{setters:[e=>{a=e.d,n=e.z,i=e.n,l=e.O,s=e.g,r=e.N,u=e.o,d=e.P,o=e.Q,c=e.x,h=e.S,p=e.F,g=e.a7,m=e.c,v=e.w,y=e.U,f=e.a4,b=e.a3,C=e.a5,x=e.au,j=e.aa},e=>{O=e.a},e=>{T=e.t,w=e._,I=e.c},e=>{S=e.d,k=e.c,z=e.u,F=e.e},e=>{V=e.d,A=e.a,B=e._},e=>{_=e.c,D=e.f,R=e.e,U=e.d},e=>{P=e.u,$=e.N},e=>{M=e.i,E=e._},e=>{K=e.s,N=e._}],execute:function(){var t=e("A",a({name:"Add",render:()=>n("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))})),W=S({name:"DynamicTags",common:_,peers:{Input:M,Button:V,Tag:T,Space:K},self:()=>({inputWidth:"64px"})}),H=k("dynamic-tags",[k("input",{minWidth:"var(--n-input-width)"})]),q=Object.assign(Object.assign(Object.assign({},F.props),I),{size:{type:String,default:"medium"},closable:{type:Boolean,default:!0},defaultValue:{type:Array,default:()=>[]},value:Array,inputStyle:[String,Object],inputProps:Object,max:Number,tagStyle:[String,Object],renderTag:Function,onCreate:{type:Function,default:e=>e},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onChange:[Function,Array]}),L=a({name:"DynamicTags",props:q,setup(e){var t=z(e),a=t.mergedClsPrefixRef,n=t.inlineThemeDisabled,u=A("DynamicTags").localeRef,d=D(e),o=d.mergedDisabledRef,c=i(""),h=i(!1),p=i(!0),g=i(null),m=F("DynamicTags","-dynamic-tags",H,W,e,a),v=i(e.defaultValue),y=l(e,"value"),f=P(y,v),b=s((()=>u.value.add)),C=s((()=>function(e){switch(e){case"tiny":return"mini";case"small":return"tiny";case"medium":return"small";case"large":return"medium";case"huge":return"large"}throw Error(`${e} has no smaller size.`)}(e.size))),x=s((()=>o.value||!!e.max&&f.value.length>=e.max));function j(t){var a=e.onChange,n=e["onUpdate:value"],i=e.onUpdateValue,l=d.nTriggerFormInput,s=d.nTriggerFormChange;a&&U(a,t),i&&U(i,t),n&&U(n,t),v.value=t,l(),s()}function O(t){var a=null!=t?t:c.value;if(a){var n=f.value.slice(0);n.push(e.onCreate(a)),j(n)}h.value=!1,p.value=!0,c.value=""}var T=s((()=>({"--n-input-width":m.value.self.inputWidth}))),w=n?R("dynamic-tags",void 0,T,e):void 0;return{mergedClsPrefix:a,inputInstRef:g,localizedAdd:b,inputSize:C,inputValue:c,showInput:h,inputForceFocused:p,mergedValue:f,mergedDisabled:o,triggerDisabled:x,handleInputKeyUp:function(e){"Enter"===e.key&&O()},handleAddClick:function(){h.value=!0,r((()=>{var e;null===(e=g.value)||void 0===e||e.focus(),p.value=!1}))},handleInputBlur:function(){O()},handleCloseClick:function(e){var t=f.value.slice(0);t.splice(e,1),j(t)},handleInputConfirm:O,mergedTheme:m,cssVars:n?void 0:T,themeClass:null==w?void 0:w.themeClass,onRender:null==w?void 0:w.onRender}},render(){var e=this.mergedTheme,a=this.cssVars,i=this.mergedClsPrefix,l=this.onRender,s=this.renderTag;return null==l||l(),n(N,{class:[`${i}-dynamic-tags`,this.themeClass],size:"small",style:a,theme:e.peers.Space,themeOverrides:e.peerOverrides.Space,itemStyle:"display: flex;"},{default:()=>{var e=this.mergedTheme,a=this.tagStyle,l=this.type,r=this.round,u=this.size,d=this.color,o=this.closable,c=this.mergedDisabled,h=this.showInput,p=this.inputValue,g=this.inputStyle,m=this.inputSize,v=this.inputForceFocused,y=this.triggerDisabled,f=this.handleInputKeyUp,b=this.handleInputBlur,C=this.handleAddClick,x=this.handleCloseClick,j=this.handleInputConfirm,O=this.$slots;return this.mergedValue.map(((t,i)=>s?s(t,i):n(w,{key:i,theme:e.peers.Tag,themeOverrides:e.peerOverrides.Tag,style:a,type:l,round:r,size:u,color:d,closable:o,disabled:c,onClose:()=>{x(i)}},{default:()=>"string"==typeof t?t:t.label}))).concat(h?O.input?O.input({submit:j,deactivate:b}):n(E,Object.assign({placeholder:"",size:m,style:g,autosize:!0},this.inputProps,{ref:"inputInstRef",value:p,onUpdateValue:e=>{this.inputValue=e},theme:e.peers.Input,themeOverrides:e.peerOverrides.Input,onKeyup:f,onBlur:b,internalForceFocus:v})):O.trigger?O.trigger({activate:C,disabled:y}):n(B,{dashed:!0,disabled:y,theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,size:m,onClick:C},{icon:()=>n($,{clsPrefix:i},{default:()=>n(t,null)})}))}})}}),Q={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Z=[o("path",{fill:"currentColor",d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2Z"},null,-1)],G={name:"mdi-add",render:function(e,t){return u(),d("svg",Q,Z)}},J={class:"pb-4"},X={class:"bg-#f4f4f8 text-#333639 px-4 py-2"};e("_",a({__name:"rolePermissionModify",props:{refresh:{type:Function,default:()=>()=>{}}},setup(e){var t=e,a=i([]),n=i([]),l=i([]),s=e=>({label:"ROLE_"+e,value:"v"+e}),r=e=>{var a,i=n.value;if(i.length>e.length)O.get("/8080/admin/role/delete",{id:null===(a=i.at(-1))||void 0===a?void 0:a.id}).then((e=>{x[`${e.data.status}`](`${e.data.msg}`)}));else if(i.length<e.length){var l;O.get("/8080/admin/role/add",{name:null===(l=e.at(-1))||void 0===l?void 0:l.label}).then((e=>{x[`${e.data.status}`](`${e.data.msg}`)}))}setTimeout((()=>{T(),t.refresh()}),500)},T=()=>{O.get("/8080/admin/roles").then((e=>{var t=e.data;a.value=j.take(t,5),n.value=j.slice(t,5),l.value=j.slice(t,5).map((e=>e.name))}))};return c((()=>{T()})),(e,t)=>{var n=w,i=G,c=B,x=L;return u(),d("div",J,[o("div",X,[h(" 默认角色："),(u(!0),d(p,null,g(f(a),(e=>(u(),m(n,{key:e.id,class:"ml-4",type:"success"},{default:v((()=>[h(y(e.name),1)])),_:2},1024)))),128))]),o("div",null,[h(" 添加角色："),b(x,{value:f(l),"onUpdate:value":[t[0]||(t[0]=e=>C(l)?l.value=e:null),r],onCreate:s},{trigger:v((e=>{var t=e.activate,a=e.disabled;return[b(c,{size:"small",type:"primary",dashed:"",disabled:a,onClick:e=>t()},{icon:v((()=>[b(i)])),default:v((()=>[h(" 添加 ")])),_:2},1032,["disabled","onClick"])]})),_:1},8,["value"])])])}}}))}}}));
