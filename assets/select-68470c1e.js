import{bI as Fl,d as ae,u as ie,o as g,c as H,w as L,b as oe,m as Rl,bJ as Ql,a4 as S,T as yl,a as Ie,l as Fe,g as f,M as we,k as Cl,bK as Re,bL as N,t as W,s as Qe,bn as Ol,y as jl,N as k,C as Te,D as Sl,P as D,Q as B,U as Z,R as O,aM as X,n as K,x as wl,K as Kl,a9 as ne,aY as Tl,ai as Ll,bM as Gl,aV as te,bN as Se,bh as Ul,br as Yl,aI as Jl,bO as hl,E as El,A as Bl,B as Xl,j as Ml,aS as Zl,p as xl,v as zl,bP as _l,r as J,ag as en,a3 as ce,F as Ne,a7 as gl,a8 as Q,aK as q,b9 as ln,b4 as nn,al as Vl,V as tn,W as Al}from"./index-08a94d7c.js";import{E as on,u as an,a as sn}from"./popper-bad9a22d.js";import{i as rn,E as un}from"./index-cb2a535a.js";import{E as dn,C as cn}from"./scrollbar-8c832c1f.js";import{E as pn,t as fn}from"./index-0c61d19d.js";import{e as vn}from"./strings-0ffbe5bc.js";import{u as Hl}from"./constants-0b468837.js";import{u as mn}from"./index-fc57844d.js";import{u as bn,a as hn}from"./use-form-item-351b2825.js";import{d as gn,U as x,C as ql}from"./event-1da57d2d.js";import{s as yn}from"./scroll-7b4bb15c.js";import{i as Pl}from"./isEqual-a74b9ffd.js";import{t as Cn,d as $l}from"./debounce-f8a15bfa.js";import{b as On}from"./_baseIteratee-61905122.js";import{i as Sn}from"./validator-afe7fbed.js";var Dl=1/0,wn=17976931348623157e292;function Tn(e){if(!e)return e===0?e:0;if(e=Cn(e),e===Dl||e===-Dl){var l=e<0?-1:1;return l*wn}return e===e?e:0}function In(e){var l=Tn(e),i=l%1;return l===l?i?l-i:l:0}function Ln(e,l,i,v){for(var o=e.length,d=i+(v?1:-1);v?d--:++d<o;)if(l(e[d],d,e))return d;return-1}var En=Math.max,Mn=Math.min;function Vn(e,l,i){var v=e==null?0:e.length;if(!v)return-1;var o=v-1;return i!==void 0&&(o=In(i),o=i<0?En(v+o,0):Mn(o,v-1)),Ln(e,On(l),o,!0)}const Pn=e=>Fl[e||"default"],$n=ae({name:"ElCollapseTransition"}),Dn=ae({...$n,setup(e){const l=ie("collapse-transition"),i=o=>{o.style.maxHeight="",o.style.overflow=o.dataset.oldOverflow,o.style.paddingTop=o.dataset.oldPaddingTop,o.style.paddingBottom=o.dataset.oldPaddingBottom},v={beforeEnter(o){o.dataset||(o.dataset={}),o.dataset.oldPaddingTop=o.style.paddingTop,o.dataset.oldPaddingBottom=o.style.paddingBottom,o.style.maxHeight=0,o.style.paddingTop=0,o.style.paddingBottom=0},enter(o){o.dataset.oldOverflow=o.style.overflow,o.scrollHeight!==0?o.style.maxHeight="".concat(o.scrollHeight,"px"):o.style.maxHeight=0,o.style.paddingTop=o.dataset.oldPaddingTop,o.style.paddingBottom=o.dataset.oldPaddingBottom,o.style.overflow="hidden"},afterEnter(o){o.style.maxHeight="",o.style.overflow=o.dataset.oldOverflow},enterCancelled(o){i(o)},beforeLeave(o){o.dataset||(o.dataset={}),o.dataset.oldPaddingTop=o.style.paddingTop,o.dataset.oldPaddingBottom=o.style.paddingBottom,o.dataset.oldOverflow=o.style.overflow,o.style.maxHeight="".concat(o.scrollHeight,"px"),o.style.overflow="hidden"},leave(o){o.scrollHeight!==0&&(o.style.maxHeight=0,o.style.paddingTop=0,o.style.paddingBottom=0)},afterLeave(o){i(o)},leaveCancelled(o){i(o)}};return(o,d)=>(g(),H(yl,Rl({name:S(l).b()},Ql(v)),{default:L(()=>[oe(o.$slots,"default")]),_:3},16,["name"]))}});var We=Ie(Dn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);We.install=e=>{e.component(We.name,We)};const ft=We,Nl=Symbol("ElSelectGroup"),je=Symbol("ElSelect");function kn(e,l){const i=Fe(je),v=Fe(Nl,{disabled:!1}),o=f(()=>we(e.value)),d=f(()=>i.props.multiple?h(i.props.modelValue,e.value):T(e.value,i.props.modelValue)),u=f(()=>{if(i.props.multiple){const p=i.props.modelValue||[];return!d.value&&p.length>=i.props.multipleLimit&&i.props.multipleLimit>0}else return!1}),m=f(()=>e.label||(o.value?"":e.value)),c=f(()=>e.value||e.label||""),w=f(()=>e.disabled||l.groupDisabled||u.value),b=Cl(),h=(p=[],y)=>{if(o.value){const a=i.props.valueKey;return p&&p.some(C=>Re(N(C,a))===N(y,a))}else return p&&p.includes(y)},T=(p,y)=>{if(o.value){const{valueKey:a}=i.props;return N(p,a)===N(y,a)}else return p===y},E=()=>{!e.disabled&&!v.disabled&&(i.hoverIndex=i.optionsArray.indexOf(b.proxy))};W(()=>m.value,()=>{!e.created&&!i.props.remote&&i.setSelected()}),W(()=>e.value,(p,y)=>{const{remote:a,valueKey:C}=i.props;if(Object.is(p,y)||(i.onOptionDestroy(y,b.proxy),i.onOptionCreate(b.proxy)),!e.created&&!a){if(C&&we(p)&&we(y)&&p[C]===y[C])return;i.setSelected()}}),W(()=>v.disabled,()=>{l.groupDisabled=v.disabled},{immediate:!0});const{queryChange:I}=Re(i);return W(I,p=>{const{query:y}=S(p),a=new RegExp(vn(y),"i");l.visible=a.test(m.value)||e.created,l.visible||i.filteredOptionsCount--},{immediate:!0}),{select:i,currentLabel:m,currentValue:c,itemSelected:d,isDisabled:w,hoverItem:E}}const Kn=ae({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(e){const l=ie("select"),i=Hl(),v=f(()=>[l.be("dropdown","item"),l.is("disabled",S(m)),{selected:S(u),hover:S(h)}]),o=Qe({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:d,itemSelected:u,isDisabled:m,select:c,hoverItem:w}=kn(e,o),{visible:b,hover:h}=Ol(o),T=Cl().proxy;c.onOptionCreate(T),jl(()=>{const I=T.value,{selected:p}=c,a=(c.props.multiple?p:[p]).some(C=>C.value===T.value);k(()=>{c.cachedOptions.get(I)===T&&!a&&c.cachedOptions.delete(I)}),c.onOptionDestroy(I,T)});function E(){e.disabled!==!0&&o.groupDisabled!==!0&&c.handleOptionSelect(T)}return{ns:l,id:i,containerKls:v,currentLabel:d,itemSelected:u,isDisabled:m,select:c,hoverItem:w,visible:b,hover:h,selectOptionClick:E,states:o}}}),Bn=["id","aria-disabled","aria-selected"];function zn(e,l,i,v,o,d){return Te((g(),D("li",{id:e.id,class:O(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMouseenter:l[0]||(l[0]=(...u)=>e.hoverItem&&e.hoverItem(...u)),onClick:l[1]||(l[1]=X((...u)=>e.selectOptionClick&&e.selectOptionClick(...u),["stop"]))},[oe(e.$slots,"default",{},()=>[B("span",null,Z(e.currentLabel),1)])],42,Bn)),[[Sl,e.visible]])}var Il=Ie(Kn,[["render",zn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const An=ae({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=Fe(je),l=ie("select"),i=f(()=>e.props.popperClass),v=f(()=>e.props.multiple),o=f(()=>e.props.fitInputWidth),d=K("");function u(){var m;d.value="".concat((m=e.selectWrapper)==null?void 0:m.offsetWidth,"px")}return wl(()=>{u(),Kl(e.selectWrapper,u)}),{ns:l,minWidth:d,popperClass:i,isMultiple:v,isFitInputWidth:o}}});function Hn(e,l,i,v,o,d){return g(),D("div",{class:O([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:ne({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[oe(e.$slots,"default")],6)}var qn=Ie(An,[["render",Hn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function Nn(e){const{t:l}=Tl();return Qe({options:new Map,cachedOptions:new Map,disabledOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:l("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,prefixWidth:11,mouseEnter:!1,focused:!1})}const Wn=(e,l,i)=>{const{t:v}=Tl(),o=ie("select");mn({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},f(()=>e.suffixTransition===!1));const d=K(null),u=K(null),m=K(null),c=K(null),w=K(null),b=K(null),h=K(null),T=K(null),E=K(),I=Ll({query:""}),p=Ll(""),y=K([]);let a=0;const{form:C,formItem:j}=bn(),Ge=f(()=>!e.filterable||e.multiple||!l.visible),G=f(()=>e.disabled||(C==null?void 0:C.disabled)),Le=f(()=>{const n=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:e.modelValue!==void 0&&e.modelValue!==null&&e.modelValue!=="";return e.clearable&&!G.value&&l.inputHovering&&n}),Ee=f(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),Ue=f(()=>o.is("reverse",Ee.value&&l.visible&&e.suffixTransition)),pe=f(()=>(C==null?void 0:C.statusIcon)&&(j==null?void 0:j.validateState)&&Gl[j==null?void 0:j.validateState]),Me=f(()=>e.remote?300:0),fe=f(()=>e.loading?e.loadingText||v("el.select.loading"):e.remote&&l.query===""&&l.options.size===0?!1:e.filterable&&l.query&&l.options.size>0&&l.filteredOptionsCount===0?e.noMatchText||v("el.select.noMatch"):l.options.size===0?e.noDataText||v("el.select.noData"):null),M=f(()=>{const n=Array.from(l.options.values()),t=[];return y.value.forEach(s=>{const r=n.findIndex(V=>V.currentLabel===s);r>-1&&t.push(n[r])}),t.length>=n.length?t:n}),Ye=f(()=>Array.from(l.cachedOptions.values())),Je=f(()=>{const n=M.value.filter(t=>!t.created).some(t=>t.currentLabel===l.query);return e.filterable&&e.allowCreate&&l.query!==""&&!n}),_=hn(),Xe=f(()=>["small"].includes(_.value)?"small":"default"),Ze=f({get(){return l.visible&&fe.value!==!1},set(n){l.visible=n}});W([()=>G.value,()=>_.value,()=>C==null?void 0:C.size],()=>{k(()=>{F()})}),W(()=>e.placeholder,n=>{l.cachedPlaceHolder=l.currentPlaceholder=n,e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(l.currentPlaceholder="")}),W(()=>e.modelValue,(n,t)=>{e.multiple&&(F(),n&&n.length>0||u.value&&l.query!==""?l.currentPlaceholder="":l.currentPlaceholder=l.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(l.query="",Y(l.query))),ve(),e.filterable&&!e.multiple&&(l.inputLength=20),!Pl(n,t)&&e.validateEvent&&(j==null||j.validate("change").catch(s=>gn()))},{flush:"post",deep:!0}),W(()=>l.visible,n=>{var t,s,r,V,P;n?((s=(t=c.value)==null?void 0:t.updatePopper)==null||s.call(t),e.filterable&&(l.filteredOptionsCount=l.optionsCount,l.query=e.remote?"":l.selectedLabel,(V=(r=m.value)==null?void 0:r.focus)==null||V.call(r),e.multiple?(P=u.value)==null||P.focus():l.selectedLabel&&(l.currentPlaceholder="".concat(l.selectedLabel),l.selectedLabel=""),Y(l.query),!e.multiple&&!e.remote&&(I.value.query="",Se(I),Se(p)))):(e.filterable&&(te(e.filterMethod)&&e.filterMethod(""),te(e.remoteMethod)&&e.remoteMethod("")),l.query="",l.previousQuery=null,l.selectedLabel="",l.inputLength=20,l.menuVisibleOnFocus=!1,xe(),k(()=>{u.value&&u.value.value===""&&l.selected.length===0&&(l.currentPlaceholder=l.cachedPlaceHolder)}),e.multiple||(l.selected&&(e.filterable&&e.allowCreate&&l.createdSelected&&l.createdLabel?l.selectedLabel=l.createdLabel:l.selectedLabel=l.selected.currentLabel,e.filterable&&(l.query=l.selectedLabel)),e.filterable&&(l.currentPlaceholder=l.cachedPlaceHolder))),i.emit("visible-change",n)}),W(()=>l.options.entries(),()=>{var n,t,s;if(!Ul)return;(t=(n=c.value)==null?void 0:n.updatePopper)==null||t.call(n),e.multiple&&F();const r=((s=h.value)==null?void 0:s.querySelectorAll("input"))||[];(!e.filterable&&!e.defaultFirstOption&&!Yl(e.modelValue)||!Array.from(r).includes(document.activeElement))&&ve(),e.defaultFirstOption&&(e.filterable||e.remote)&&l.filteredOptionsCount&&Pe()},{flush:"post"}),W(()=>l.hoverIndex,n=>{Jl(n)&&n>-1?E.value=M.value[n]||{}:E.value={},M.value.forEach(t=>{t.hover=E.value===t})});const F=()=>{k(()=>{var n,t;if(!d.value)return;const s=d.value.$el.querySelector("input");a=a||(s.clientHeight>0?s.clientHeight+2:0);const r=b.value,V=getComputedStyle(s).getPropertyValue(o.cssVarName("input-height")),P=Number.parseFloat(V)||Pn(_.value||(C==null?void 0:C.size)),z=_.value||P===a||a<=0?P:a;!(s.offsetParent===null)&&(s.style.height="".concat((l.selected.length===0?z:Math.max(r?r.clientHeight+(r.clientHeight>z?6:0):0,z))-2,"px")),l.visible&&fe.value!==!1&&((t=(n=c.value)==null?void 0:n.updatePopper)==null||t.call(n))})},Y=async n=>{if(!(l.previousQuery===n||l.isOnComposition)){if(l.previousQuery===null&&(te(e.filterMethod)||te(e.remoteMethod))){l.previousQuery=n;return}l.previousQuery=n,k(()=>{var t,s;l.visible&&((s=(t=c.value)==null?void 0:t.updatePopper)==null||s.call(t))}),l.hoverIndex=-1,e.multiple&&e.filterable&&k(()=>{if(!G.value){const t=u.value.value.length*15+20;l.inputLength=e.collapseTags?Math.min(50,t):t,Ve()}F()}),e.remote&&te(e.remoteMethod)?(l.hoverIndex=-1,e.remoteMethod(n)):te(e.filterMethod)?(e.filterMethod(n),Se(p)):(l.filteredOptionsCount=l.optionsCount,I.value.query=n,Se(I),Se(p)),e.defaultFirstOption&&(e.filterable||e.remote)&&l.filteredOptionsCount&&(await k(),Pe())}},Ve=()=>{l.currentPlaceholder!==""&&(l.currentPlaceholder=u.value.value?"":l.cachedPlaceHolder)},Pe=()=>{const n=M.value.filter(r=>r.visible&&!r.disabled&&!r.states.groupDisabled),t=n.find(r=>r.created),s=n[0];l.hoverIndex=me(M.value,t||s)},ve=()=>{var n;if(e.multiple)l.selectedLabel="";else{const s=$e(e.modelValue);(n=s.props)!=null&&n.created?(l.createdLabel=s.props.value,l.createdSelected=!0):l.createdSelected=!1,l.selectedLabel=s.currentLabel,l.selected=s,e.filterable&&(l.query=l.selectedLabel);return}const t=[];Array.isArray(e.modelValue)&&e.modelValue.forEach(s=>{t.push($e(s))}),l.selected=t,k(()=>{F()})},$e=n=>{let t;const s=hl(n).toLowerCase()==="object",r=hl(n).toLowerCase()==="null",V=hl(n).toLowerCase()==="undefined";for(let R=l.cachedOptions.size-1;R>=0;R--){const A=Ye.value[R];if(s?N(A.value,e.valueKey)===N(n,e.valueKey):A.value===n){t={value:n,currentLabel:A.currentLabel,isDisabled:A.isDisabled};break}}if(t)return t;const P=s?n.label:!r&&!V?n:"",z={value:n,currentLabel:P};return e.multiple&&(z.hitState=!1),z},xe=()=>{setTimeout(()=>{const n=e.valueKey;e.multiple?l.selected.length>0?l.hoverIndex=Math.min.apply(null,l.selected.map(t=>M.value.findIndex(s=>N(s,n)===N(t,n)))):l.hoverIndex=-1:l.hoverIndex=M.value.findIndex(t=>de(t)===de(l.selected))},300)},_e=()=>{var n,t;el(),(t=(n=c.value)==null?void 0:n.updatePopper)==null||t.call(n),e.multiple&&F()},el=()=>{var n;l.inputWidth=(n=d.value)==null?void 0:n.$el.offsetWidth},ll=()=>{e.filterable&&l.query!==l.selectedLabel&&(l.query=l.selectedLabel,Y(l.query))},nl=$l(()=>{ll()},Me.value),tl=$l(n=>{Y(n.target.value)},Me.value),ee=n=>{Pl(e.modelValue,n)||i.emit(ql,n)},De=n=>Vn(n,t=>!l.disabledOptions.has(t)),ol=n=>{if(n.code!==El.delete){if(n.target.value.length<=0&&!he()){const t=e.modelValue.slice(),s=De(t);if(s<0)return;t.splice(s,1),i.emit(x,t),ee(t)}n.target.value.length===1&&e.modelValue.length===0&&(l.currentPlaceholder=l.cachedPlaceHolder)}},se=(n,t)=>{const s=l.selected.indexOf(t);if(s>-1&&!G.value){const r=e.modelValue.slice();r.splice(s,1),i.emit(x,r),ee(r),i.emit("remove-tag",t.value)}n.stopPropagation(),ue()},ke=n=>{n.stopPropagation();const t=e.multiple?[]:"";if(!Bl(t))for(const s of l.selected)s.isDisabled&&t.push(s.value);i.emit(x,t),ee(t),l.hoverIndex=-1,l.visible=!1,i.emit("clear"),ue()},Ke=n=>{var t;if(e.multiple){const s=(e.modelValue||[]).slice(),r=me(s,n.value);r>-1?s.splice(r,1):(e.multipleLimit<=0||s.length<e.multipleLimit)&&s.push(n.value),i.emit(x,s),ee(s),n.created&&(l.query="",Y(""),l.inputLength=20),e.filterable&&((t=u.value)==null||t.focus())}else i.emit(x,n.value),ee(n.value),l.visible=!1;il(),!l.visible&&k(()=>{re(n)})},me=(n=[],t)=>{if(!we(t))return n.indexOf(t);const s=e.valueKey;let r=-1;return n.some((V,P)=>Re(N(V,s))===N(t,s)?(r=P,!0):!1),r},il=()=>{const n=u.value||d.value;n&&(n==null||n.focus())},re=n=>{var t,s,r,V,P;const z=Array.isArray(n)?n[0]:n;let R=null;if(z!=null&&z.value){const A=M.value.filter(qe=>qe.value===z.value);A.length>0&&(R=A[0].$el)}if(c.value&&R){const A=(V=(r=(s=(t=c.value)==null?void 0:t.popperRef)==null?void 0:s.contentRef)==null?void 0:r.querySelector)==null?void 0:V.call(r,".".concat(o.be("dropdown","wrap")));A&&yn(A,R)}(P=T.value)==null||P.handleScroll()},be=n=>{l.optionsCount++,l.filteredOptionsCount++,l.options.set(n.value,n),l.cachedOptions.set(n.value,n),n.disabled&&l.disabledOptions.set(n.value,n)},al=(n,t)=>{l.options.get(n)===t&&(l.optionsCount--,l.filteredOptionsCount--,l.options.delete(n))},sl=n=>{n.code!==El.backspace&&he(!1),l.inputLength=u.value.value.length*15+20,F()},he=n=>{if(!Array.isArray(l.selected))return;const t=De(l.selected.map(r=>r.value)),s=l.selected[t];if(s)return n===!0||n===!1?(s.hitState=n,n):(s.hitState=!s.hitState,s.hitState)},rl=n=>{const t=n.target.value;if(n.type==="compositionend")l.isOnComposition=!1,k(()=>Y(t));else{const s=t[t.length-1]||"";l.isOnComposition=!rn(s)}},ul=()=>{k(()=>re(l.selected))},dl=n=>{l.focused||((e.automaticDropdown||e.filterable)&&(e.filterable&&!l.visible&&(l.menuVisibleOnFocus=!0),l.visible=!0),l.focused=!0,i.emit("focus",n))},ue=()=>{var n,t;l.visible?(n=u.value||d.value)==null||n.focus():(t=d.value)==null||t.focus()},cl=()=>{var n,t,s;l.visible=!1,(n=d.value)==null||n.blur(),(s=(t=m.value)==null?void 0:t.blur)==null||s.call(t)},U=n=>{var t,s,r;(t=c.value)!=null&&t.isFocusInsideContent(n)||(s=w.value)!=null&&s.isFocusInsideContent(n)||(r=h.value)!=null&&r.contains(n.relatedTarget)||(l.visible&&ye(),l.focused=!1,i.emit("blur",n))},ge=n=>{ke(n)},ye=()=>{l.visible=!1},Ce=n=>{l.visible&&(n.preventDefault(),n.stopPropagation(),l.visible=!1)},Be=n=>{n&&!l.mouseEnter||G.value||(l.menuVisibleOnFocus?l.menuVisibleOnFocus=!1:(!c.value||!c.value.isFocusInsideContent())&&(l.visible=!l.visible),ue())},pl=()=>{l.visible?M.value[l.hoverIndex]&&Ke(M.value[l.hoverIndex]):Be()},de=n=>we(n.value)?N(n.value,e.valueKey):n.value,ze=f(()=>M.value.filter(n=>n.visible).every(n=>n.disabled)),fl=f(()=>e.multiple?l.selected.slice(0,e.maxCollapseTags):[]),Oe=f(()=>e.multiple?l.selected.slice(e.maxCollapseTags):[]),Ae=n=>{if(!l.visible){l.visible=!0;return}if(!(l.options.size===0||l.filteredOptionsCount===0)&&!l.isOnComposition&&!ze.value){n==="next"?(l.hoverIndex++,l.hoverIndex===l.options.size&&(l.hoverIndex=0)):n==="prev"&&(l.hoverIndex--,l.hoverIndex<0&&(l.hoverIndex=l.options.size-1));const t=M.value[l.hoverIndex];(t.disabled===!0||t.states.groupDisabled===!0||!t.visible)&&Ae(n),k(()=>re(E.value))}},vl=()=>{l.mouseEnter=!0},He=()=>{l.mouseEnter=!1},ml=(n,t)=>{var s,r;se(n,t),(r=(s=w.value)==null?void 0:s.updatePopper)==null||r.call(s)},bl=f(()=>({maxWidth:"".concat(S(l.inputWidth)-32-(pe.value?22:0),"px"),width:"100%"}));return{optionList:y,optionsArray:M,hoverOption:E,selectSize:_,handleResize:_e,debouncedOnInputChange:nl,debouncedQueryChange:tl,deletePrevTag:ol,deleteTag:se,deleteSelected:ke,handleOptionSelect:Ke,scrollToOption:re,readonly:Ge,resetInputHeight:F,showClose:Le,iconComponent:Ee,iconReverse:Ue,showNewOption:Je,collapseTagSize:Xe,setSelected:ve,managePlaceholder:Ve,selectDisabled:G,emptyText:fe,toggleLastOptionHitState:he,resetInputState:sl,handleComposition:rl,onOptionCreate:be,onOptionDestroy:al,handleMenuEnter:ul,handleFocus:dl,focus:ue,blur:cl,handleBlur:U,handleClearClick:ge,handleClose:ye,handleKeydownEscape:Ce,toggleMenu:Be,selectOption:pl,getValueKey:de,navigateOptions:Ae,handleDeleteTooltipTag:ml,dropMenuVisible:Ze,queryChange:I,groupQueryChange:p,showTagList:fl,collapseTagList:Oe,selectTagsStyle:bl,reference:d,input:u,iOSInput:m,tooltipRef:c,tagTooltipRef:w,tags:b,selectWrapper:h,scrollbar:T,handleMouseEnter:vl,handleMouseLeave:He}};var Fn=ae({name:"ElOptions",emits:["update-options"],setup(e,{slots:l,emit:i}){let v=[];function o(d,u){if(d.length!==u.length)return!1;for(const[m]of d.entries())if(d[m]!=u[m])return!1;return!0}return()=>{var d,u;const m=(d=l.default)==null?void 0:d.call(l),c=[];function w(b){Array.isArray(b)&&b.forEach(h=>{var T,E,I,p;const y=(T=(h==null?void 0:h.type)||{})==null?void 0:T.name;y==="ElOptionGroup"?w(!Bl(h.children)&&!Array.isArray(h.children)&&te((E=h.children)==null?void 0:E.default)?(I=h.children)==null?void 0:I.default():h.children):y==="ElOption"?c.push((p=h.props)==null?void 0:p.label):Array.isArray(h.children)&&w(h.children)})}return m.length&&w((u=m[0])==null?void 0:u.children),o(c,v)||(v=c,i("update-options",c)),m}}});const kl="ElSelect",Rn=ae({name:kl,componentName:kl,components:{ElInput:un,ElSelectMenu:qn,ElOption:Il,ElOptions:Fn,ElTag:pn,ElScrollbar:dn,ElTooltip:on,ElIcon:Xl},directives:{ClickOutside:cn},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:Sn},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:an.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Ml,default:Zl},fitInputWidth:Boolean,suffixIcon:{type:Ml,default:xl},tagType:{...fn.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:sn,default:"bottom-start"},ariaLabel:{type:String,default:void 0}},emits:[x,ql,"remove-tag","clear","visible-change","focus","blur"],setup(e,l){const i=ie("select"),v=ie("input"),{t:o}=Tl(),d=Hl(),u=Nn(e),{optionList:m,optionsArray:c,hoverOption:w,selectSize:b,readonly:h,handleResize:T,collapseTagSize:E,debouncedOnInputChange:I,debouncedQueryChange:p,deletePrevTag:y,deleteTag:a,deleteSelected:C,handleOptionSelect:j,scrollToOption:Ge,setSelected:G,resetInputHeight:Le,managePlaceholder:Ee,showClose:Ue,selectDisabled:pe,iconComponent:Me,iconReverse:fe,showNewOption:M,emptyText:Ye,toggleLastOptionHitState:Je,resetInputState:_,handleComposition:Xe,onOptionCreate:Ze,onOptionDestroy:F,handleMenuEnter:Y,handleFocus:Ve,focus:Pe,blur:ve,handleBlur:$e,handleClearClick:xe,handleClose:_e,handleKeydownEscape:el,toggleMenu:ll,selectOption:nl,getValueKey:tl,navigateOptions:ee,handleDeleteTooltipTag:De,dropMenuVisible:ol,reference:se,input:ke,iOSInput:Ke,tooltipRef:me,tagTooltipRef:il,tags:re,selectWrapper:be,scrollbar:al,queryChange:sl,groupQueryChange:he,handleMouseEnter:rl,handleMouseLeave:ul,showTagList:dl,collapseTagList:ue,selectTagsStyle:cl}=Wn(e,u,l),{inputWidth:U,selected:ge,inputLength:ye,filteredOptionsCount:Ce,visible:Be,selectedLabel:pl,hoverIndex:de,query:ze,inputHovering:fl,currentPlaceholder:Oe,menuVisibleOnFocus:Ae,isOnComposition:vl,options:He,cachedOptions:ml,optionsCount:bl,prefixWidth:n}=Ol(u),t=f(()=>{const $=[i.b()],le=S(b);return le&&$.push(i.m(le)),e.disabled&&$.push(i.m("disabled")),$}),s=f(()=>[i.e("tags"),i.is("disabled",S(pe))]),r=f(()=>[i.b("tags-wrapper"),{"has-prefix":S(n)&&S(ge).length}]),V=f(()=>[i.e("input"),i.is(S(b)),i.is("disabled",S(pe))]),P=f(()=>[i.e("input"),i.is(S(b)),i.em("input","iOS")]),z=f(()=>[i.is("empty",!e.allowCreate&&!!S(ze)&&S(Ce)===0)]),R=f(()=>{const $=S(U)>123?S(U)-123:S(U)-75;return{maxWidth:"".concat($,"px")}}),A=f(()=>({marginLeft:"".concat(S(n),"px"),flexGrow:1,width:"".concat(S(ye)/(S(U)-32),"%"),maxWidth:"".concat(S(U)-42,"px")}));zl(je,Qe({props:e,options:He,optionsArray:c,cachedOptions:ml,optionsCount:bl,filteredOptionsCount:Ce,hoverIndex:de,handleOptionSelect:j,onOptionCreate:Ze,onOptionDestroy:F,selectWrapper:be,selected:ge,setSelected:G,queryChange:sl,groupQueryChange:he})),wl(()=>{u.cachedPlaceHolder=Oe.value=e.placeholder||(()=>o("el.select.placeholder")),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(Oe.value=""),Kl(be,T),e.remote&&e.multiple&&Le(),k(()=>{const $=se.value&&se.value.$el;if($&&(U.value=$.getBoundingClientRect().width,l.slots.prefix)){const le=$.querySelector(".".concat(v.e("prefix")));n.value=Math.max(le.getBoundingClientRect().width+11,30)}}),G()}),e.multiple&&!Array.isArray(e.modelValue)&&l.emit(x,[]),!e.multiple&&Array.isArray(e.modelValue)&&l.emit(x,"");const qe=f(()=>{var $,le;return(le=($=me.value)==null?void 0:$.popperRef)==null?void 0:le.contentRef});return{isIOS:_l,onOptionsRendered:$=>{m.value=$},prefixWidth:n,selectSize:b,readonly:h,handleResize:T,collapseTagSize:E,debouncedOnInputChange:I,debouncedQueryChange:p,deletePrevTag:y,deleteTag:a,handleDeleteTooltipTag:De,deleteSelected:C,handleOptionSelect:j,scrollToOption:Ge,inputWidth:U,selected:ge,inputLength:ye,filteredOptionsCount:Ce,visible:Be,selectedLabel:pl,hoverIndex:de,query:ze,inputHovering:fl,currentPlaceholder:Oe,menuVisibleOnFocus:Ae,isOnComposition:vl,options:He,resetInputHeight:Le,managePlaceholder:Ee,showClose:Ue,selectDisabled:pe,iconComponent:Me,iconReverse:fe,showNewOption:M,emptyText:Ye,toggleLastOptionHitState:Je,resetInputState:_,handleComposition:Xe,handleMenuEnter:Y,handleFocus:Ve,focus:Pe,blur:ve,handleBlur:$e,handleClearClick:xe,handleClose:_e,handleKeydownEscape:el,toggleMenu:ll,selectOption:nl,getValueKey:tl,navigateOptions:ee,dropMenuVisible:ol,reference:se,input:ke,iOSInput:Ke,tooltipRef:me,popperPaneRef:qe,tags:re,selectWrapper:be,scrollbar:al,wrapperKls:t,tagsKls:s,tagWrapperKls:r,inputKls:V,iOSInputKls:P,scrollbarKls:z,selectTagsStyle:cl,nsSelect:i,tagTextStyle:R,inputStyle:A,handleMouseEnter:rl,handleMouseLeave:ul,showTagList:dl,collapseTagList:ue,tagTooltipRef:il,contentId:d,hoverOption:w}}}),Qn=["disabled","autocomplete","aria-activedescendant","aria-controls","aria-expanded","aria-label"],jn=["disabled"],Gn={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function Un(e,l,i,v,o,d){const u=J("el-tag"),m=J("el-tooltip"),c=J("el-icon"),w=J("el-input"),b=J("el-option"),h=J("el-options"),T=J("el-scrollbar"),E=J("el-select-menu"),I=en("click-outside");return Te((g(),D("div",{ref:"selectWrapper",class:O(e.wrapperKls),onMouseenter:l[22]||(l[22]=(...p)=>e.handleMouseEnter&&e.handleMouseEnter(...p)),onMouseleave:l[23]||(l[23]=(...p)=>e.handleMouseLeave&&e.handleMouseLeave(...p)),onClick:l[24]||(l[24]=X((...p)=>e.toggleMenu&&e.toggleMenu(...p),["stop"]))},[ce(m,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:"".concat(e.nsSelect.namespace.value,"-zoom-in-top"),"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:L(()=>{var p,y;return[B("div",{class:"select-trigger",onMouseenter:l[20]||(l[20]=a=>e.inputHovering=!0),onMouseleave:l[21]||(l[21]=a=>e.inputHovering=!1)},[e.multiple?(g(),D("div",{key:0,ref:"tags",tabindex:"-1",class:O(e.tagsKls),style:ne(e.selectTagsStyle),onClick:l[15]||(l[15]=(...a)=>e.focus&&e.focus(...a))},[e.collapseTags&&e.selected.length?(g(),H(yl,{key:0,onAfterLeave:e.resetInputHeight},{default:L(()=>[B("span",{class:O(e.tagWrapperKls)},[(g(!0),D(Ne,null,gl(e.showTagList,a=>(g(),H(u,{key:e.getValueKey(a),closable:!e.selectDisabled&&!a.isDisabled,size:e.collapseTagSize,hit:a.hitState,type:e.tagType,"disable-transitions":"",onClose:C=>e.deleteTag(C,a)},{default:L(()=>[B("span",{class:O(e.nsSelect.e("tags-text")),style:ne(e.tagTextStyle)},Z(a.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),e.selected.length>e.maxCollapseTags?(g(),H(u,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:L(()=>[e.collapseTagsTooltip?(g(),H(m,{key:0,ref:"tagTooltipRef",disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:L(()=>[B("span",{class:O(e.nsSelect.e("tags-text"))},"+ "+Z(e.selected.length-e.maxCollapseTags),3)]),content:L(()=>[B("div",{class:O(e.nsSelect.e("collapse-tags"))},[(g(!0),D(Ne,null,gl(e.collapseTagList,a=>(g(),D("div",{key:e.getValueKey(a),class:O(e.nsSelect.e("collapse-tag"))},[ce(u,{class:"in-tooltip",closable:!e.selectDisabled&&!a.isDisabled,size:e.collapseTagSize,hit:a.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:C=>e.handleDeleteTooltipTag(C,a)},{default:L(()=>[B("span",{class:O(e.nsSelect.e("tags-text")),style:ne({maxWidth:e.inputWidth-75+"px"})},Z(a.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(g(),D("span",{key:1,class:O(e.nsSelect.e("tags-text"))},"+ "+Z(e.selected.length-e.maxCollapseTags),3))]),_:1},8,["size","type"])):Q("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):Q("v-if",!0),e.collapseTags?Q("v-if",!0):(g(),H(yl,{key:1,onAfterLeave:e.resetInputHeight},{default:L(()=>[B("span",{class:O(e.tagWrapperKls),style:ne(e.prefixWidth&&e.selected.length?{marginLeft:"".concat(e.prefixWidth,"px")}:"")},[(g(!0),D(Ne,null,gl(e.selected,a=>(g(),H(u,{key:e.getValueKey(a),closable:!e.selectDisabled&&!a.isDisabled,size:e.collapseTagSize,hit:a.hitState,type:e.tagType,"disable-transitions":"",onClose:C=>e.deleteTag(C,a)},{default:L(()=>[B("span",{class:O(e.nsSelect.e("tags-text")),style:ne({maxWidth:e.inputWidth-75+"px"})},Z(a.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],6)]),_:1},8,["onAfterLeave"])),e.filterable&&!e.selectDisabled?Te((g(),D("input",{key:2,ref:"input","onUpdate:modelValue":l[0]||(l[0]=a=>e.query=a),type:"text",class:O(e.inputKls),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:ne(e.inputStyle),role:"combobox","aria-activedescendant":((p=e.hoverOption)==null?void 0:p.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:l[1]||(l[1]=(...a)=>e.handleFocus&&e.handleFocus(...a)),onBlur:l[2]||(l[2]=(...a)=>e.handleBlur&&e.handleBlur(...a)),onKeyup:l[3]||(l[3]=(...a)=>e.managePlaceholder&&e.managePlaceholder(...a)),onKeydown:[l[4]||(l[4]=(...a)=>e.resetInputState&&e.resetInputState(...a)),l[5]||(l[5]=q(X(a=>e.navigateOptions("next"),["prevent"]),["down"])),l[6]||(l[6]=q(X(a=>e.navigateOptions("prev"),["prevent"]),["up"])),l[7]||(l[7]=q((...a)=>e.handleKeydownEscape&&e.handleKeydownEscape(...a),["esc"])),l[8]||(l[8]=q(X((...a)=>e.selectOption&&e.selectOption(...a),["stop","prevent"]),["enter"])),l[9]||(l[9]=q((...a)=>e.deletePrevTag&&e.deletePrevTag(...a),["delete"])),l[10]||(l[10]=q(a=>e.visible=!1,["tab"]))],onCompositionstart:l[11]||(l[11]=(...a)=>e.handleComposition&&e.handleComposition(...a)),onCompositionupdate:l[12]||(l[12]=(...a)=>e.handleComposition&&e.handleComposition(...a)),onCompositionend:l[13]||(l[13]=(...a)=>e.handleComposition&&e.handleComposition(...a)),onInput:l[14]||(l[14]=(...a)=>e.debouncedQueryChange&&e.debouncedQueryChange(...a))},null,46,Qn)),[[ln,e.query]]):Q("v-if",!0)],6)):Q("v-if",!0),e.isIOS&&!e.multiple&&e.filterable&&e.readonly?(g(),D("input",{key:1,ref:"iOSInput",class:O(e.iOSInputKls),disabled:e.selectDisabled,type:"text"},null,10,jn)):Q("v-if",!0),ce(w,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":l[16]||(l[16]=a=>e.selectedLabel=a),type:"text",placeholder:typeof e.currentPlaceholder=="function"?e.currentPlaceholder():e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:O([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,role:"combobox","aria-activedescendant":((y=e.hoverOption)==null?void 0:y.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropMenuVisible,label:e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[l[17]||(l[17]=q(X(a=>e.navigateOptions("next"),["stop","prevent"]),["down"])),l[18]||(l[18]=q(X(a=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),q(X(e.selectOption,["stop","prevent"]),["enter"]),q(e.handleKeydownEscape,["esc"]),l[19]||(l[19]=q(a=>e.visible=!1,["tab"]))]},nn({suffix:L(()=>[e.iconComponent&&!e.showClose?(g(),H(c,{key:0,class:O([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:L(()=>[(g(),H(Vl(e.iconComponent)))]),_:1},8,["class"])):Q("v-if",!0),e.showClose&&e.clearIcon?(g(),H(c,{key:1,class:O([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:L(()=>[(g(),H(Vl(e.clearIcon)))]),_:1},8,["class","onClick"])):Q("v-if",!0)]),_:2},[e.$slots.prefix?{name:"prefix",fn:L(()=>[B("div",Gn,[oe(e.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","aria-activedescendant","aria-controls","aria-expanded","label","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]}),content:L(()=>[ce(E,null,{default:L(()=>[Te(ce(T,{id:e.contentId,ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:O(e.scrollbarKls),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical"},{default:L(()=>[e.showNewOption?(g(),H(b,{key:0,value:e.query,created:!0},null,8,["value"])):Q("v-if",!0),ce(h,{onUpdateOptions:e.onOptionsRendered},{default:L(()=>[oe(e.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[Sl,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&e.options.size===0)?(g(),D(Ne,{key:0},[e.$slots.empty?oe(e.$slots,"empty",{key:0}):(g(),D("p",{key:1,class:O(e.nsSelect.be("dropdown","empty"))},Z(e.emptyText),3))],64)):Q("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[I,e.handleClose,e.popperPaneRef]])}var Yn=Ie(Rn,[["render",Un],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const Jn=ae({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const l=ie("select"),i=K(!0),v=Cl(),o=K([]);zl(Nl,Qe({...Ol(e)}));const d=Fe(je);wl(()=>{o.value=u(v.subTree)});const u=c=>{const w=[];return Array.isArray(c.children)&&c.children.forEach(b=>{var h;b.type&&b.type.name==="ElOption"&&b.component&&b.component.proxy?w.push(b.component.proxy):(h=b.children)!=null&&h.length&&w.push(...u(b))}),w},{groupQueryChange:m}=Re(d);return W(m,()=>{i.value=o.value.some(c=>c.visible===!0)},{flush:"post"}),{visible:i,ns:l}}});function Xn(e,l,i,v,o,d){return Te((g(),D("ul",{class:O(e.ns.be("group","wrap"))},[B("li",{class:O(e.ns.be("group","title"))},Z(e.label),3),B("li",null,[B("ul",{class:O(e.ns.b("group"))},[oe(e.$slots,"default")],2)])],2)),[[Sl,e.visible]])}var Wl=Ie(Jn,[["render",Xn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const vt=tn(Yn,{Option:Il,OptionGroup:Wl}),mt=Al(Il);Al(Wl);export{vt as E,ft as _,mt as a,je as s};
