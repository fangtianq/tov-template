/* empty css             */import{E as y,a as b}from"./form-item-6a1a9d26.js";import{E}from"./button-bfcc4e4a.js";import{E as S}from"./checkbox-bc390863.js";/* empty css              */import{d as w,e as d,g as P,s as B,a6 as F,ca as _,h as C,o as M,a as T,w as o,x as a,y as r,z as A,A as f,am as N,b as Q,Q as R,a3 as p}from"./index-01622320.js";import{a as U}from"./request-af25b9b6.js";import{E as q}from"./index-38142232.js";import"./constants-6e2a2e6f.js";import"./use-form-item-e55812c6.js";import"./event-1da57d2d.js";import"./index-414d99d5.js";import"./_baseClone-2e2f2132.js";import"./_Uint8Array-ad24a697.js";import"./_initCloneObject-ae9ac112.js";import"./_getTag-79868909.js";import"./index-cae2b4ed.js";import"./index-86a38320.js";import"./isEqual-c60a97e1.js";import"./_baseIsEqual-12af7c5a.js";import"./isNil-c75b1b34.js";import"./hasIn-75ed73dd.js";import"./_overRest-417ee605.js";import"./identity-46f208ab.js";import"./index-d2c44701.js";const z=Q("h3",{class:"title"},"系统登录",-1),ce=w({__name:"index",setup(I){const i=d(!1),t=P({account:"Salad",checkPass:"a123456"}),g={account:[{required:!0,message:"请输入账号",trigger:"blur"}],checkPass:[{required:!0,message:"请输入密码",trigger:"blur"}]},n=d(!0),u=B(),h=async()=>{i.value=!0;let s={name:t.account,pass:R.MD5(t.checkPass).toString()},e=await U.post("/8080/LoginApi/v1/login",s);if((e==null?void 0:e.data.status)===-404){p.error(e==null?void 0:e.data.msg),i.value=!1;return}(e==null?void 0:e.data.status)===200?(p.success(e==null?void 0:e.data.msg),_().changeVueShiro({user:e.data.data}),u.push({path:"/pri/FTQPriSpringbootVueBlog/vue-shiro/home"})):p.error(e==null?void 0:e.data.msg),i.value=!1};let{VueShiro:V}=F(_());return C(()=>{const s=V.value.user;s!=null&&s.id&&u.push({path:"/pri/FTQPriSpringbootVueBlog/vue-shiro/home"})}),(s,e)=>{const c=q,m=y,k=S,v=E,x=b;return M(),T("div",null,[o(x,{model:r(t),rules:g,"label-position":"left","label-width":"0px",class:"demo-ruleForm login-container"},{default:a(()=>[z,o(m,{prop:"account"},{default:a(()=>[o(c,{modelValue:r(t).account,"onUpdate:modelValue":e[0]||(e[0]=l=>r(t).account=l),type:"text",placeholder:"账号"},null,8,["modelValue"])]),_:1}),o(m,{prop:"checkPass"},{default:a(()=>[o(c,{modelValue:r(t).checkPass,"onUpdate:modelValue":e[1]||(e[1]=l=>r(t).checkPass=l),type:"password",placeholder:"密码",autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(k,{modelValue:r(n),"onUpdate:modelValue":e[2]||(e[2]=l=>A(n)?n.value=l:null),checked:"",class:"remember"},{default:a(()=>[f("记住密码")]),_:1},8,["modelValue"]),o(m,{style:{width:"100%"}},{default:a(()=>[o(v,{type:"primary",plain:"",loading:r(i),style:{width:"100%"},onClick:N(h,["prevent"])},{default:a(()=>[f("登录")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}});export{ce as default};
