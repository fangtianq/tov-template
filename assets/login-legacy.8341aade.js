!function(){function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function t(t){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?e(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}System.register(["./index-legacy.dc51434c.js","./favicon-legacy.99295790.js","./route-block-legacy.6f0c4e8e.js"],(function(e,r){"use strict";var o,n,l,a,s,u,c,i,d,f,b,p,m,g,h,w,y,v,O,j,P,_;return{setters:[e=>{o=e.d,n=e.z,l=e.l,a=e.o,s=e.A,u=e.e,c=e.i,i=e.w,d=e._,f=e.B,b=e.m,p=e.C,m=e.r,g=e.j,h=e.f,w=e.k,y=e.D,v=e.E,O=e.x,j=e.G},e=>{P=e._},e=>{_=e.b}],execute:function(){const r={class:"bg-white h-screen font-github"},x={class:"flex justify-center items-center flex-col"},k=h("div",{class:"p-8"},[h("img",{src:P,class:"w-12 h-12",alt:"tov"})],-1),S=h("div",{class:"font-300 text-2xl tracking-github mb-4"}," Sign in to tov-template ",-1),V={class:"h-57 w-77 bg-github_bg border-github_b rounded-xl border-1 p-4"},D=h("div",{class:"mt-3 w-77 bg-white border-github_b rounded-xl border-1 p-4"},[w(" New to Tov? "),h("a",{href:"signup",class:"text-github_a"},"Create an account"),w(" . ")],-1),E=o({name:"***",beforeRouteEnter(e,t,r){r((e=>{d.isEmpty(f().value)||e.router.replace(t.path)}))}}),U=e("default",o(t(t({},E),{},{setup(e,t){let o=t.expose;const d=n({username:"",password:""}),P=l(),_=b(),E=p();a((()=>{}));return o({router:_,currentUser:s,route:E}),(e,t)=>{const o=m("el-input"),n=m("el-form-item"),l=m("el-button"),a=m("el-form");return g(),u("div",r,[c(a,{ref_key:"ruleFormRef",ref:P,model:d,"label-position":"top"},{default:i((()=>[h("div",x,[k,S,h("div",V,[c(n,{label:"Phone number"},{default:i((()=>[c(o,{modelValue:d.username,"onUpdate:modelValue":t[0]||(t[0]=e=>d.username=e)},null,8,["modelValue"])])),_:1}),c(n,{label:"Password"},{default:i((()=>[c(o,{modelValue:d.password,"onUpdate:modelValue":t[1]||(t[1]=e=>d.password=e),type:"password",autocomplete:"off"},null,8,["modelValue"])])),_:1}),c(n,null,{default:i((()=>[c(l,{class:"w-full rounded-2xl shadow-github_button",color:"#2da44e",type:"primary",onClick:t[2]||(t[2]=e=>{var t;(t=P.value)&&t.validate((e=>{if(!e)return!1;y()(d.username,d.password).then((e=>{f().value=e.getSessionToken(),v.success(`登录成功，欢迎您${e.getUsername()}回来~`);let t=O(j()).fromParams;_.push(t.value.fromPath)}),(e=>{v.error(e.rawMessage)}))}))})},{default:i((()=>[w("Sign in")])),_:1})])),_:1})]),D])])),_:1},8,["model"])])}}})));"function"==typeof _&&_(U)}}}))}();
