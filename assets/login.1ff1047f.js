import{d as b,al as F,m as V,o as y,am as C,a as B,f as o,w as r,an as R,ao as g,n as S,ap as P,h as N,b as a,i,aq as T,ar as c,aj as U,as as M,r as j}from"./index.24f04572.js";/* empty css             */import{E as I,a as $,_ as q}from"./logo.7fcf98a8.js";import{E as A}from"./button.6feb5de6.js";import{E as D}from"./input.fabe07f8.js";import{b as f}from"./route-block.6a611cbf.js";import"./error.52cb36a5.js";import"./index.58eb2c8b.js";import"./favicon.eb9475ba.js";import"./index.8e5c7be9.js";import"./index.44cccade.js";import"./index.b49062f4.js";import"./event.ff07fee5.js";import"./isNil.aac33454.js";const z={class:"h-screen font-github"},G={class:"flex justify-center items-center flex-col"},H=a("div",{class:"font-300 text-2xl tracking-github mb-4"}," Sign in to tov-template ",-1),J={class:"h-57 w-77 bg-github_bg dark:bg-github_bg_dark border-github_b rounded-xl border-1 p-4"},K=i("Sign in"),L={class:"mt-3 w-77 border-github_b rounded-xl border-1 p-4"},O=i(" New to Tov? "),Q={class:"text-github_a"},W=i("Create an account"),X=i(" . "),Y=b({name:"***",beforeRouteEnter(h,m,e){e(n=>{R.isEmpty(g().value)||n.router.replace(m.path)})}}),Z=b({...Y,setup(h,{expose:m}){const e=F({username:"",password:""}),n=V(),p=S(),v=P();y(()=>{});const w=_=>{!_||_.validate(t=>{if(t)T()(e.username,e.password).then(s=>{g().value=s.getSessionToken(),c.success(`\u767B\u5F55\u6210\u529F\uFF0C\u6B22\u8FCE\u60A8${s.getUsername()}\u56DE\u6765~`);let{fromParams:l}=U(M());p.push(l.value.fromPath)},s=>{c.error(s.rawMessage)});else return!1})};return m({router:p,currentUser:C,route:v}),(_,t)=>{const s=q,l=D,d=I,k=A,x=j("router-link"),E=$;return N(),B("div",z,[o(E,{ref_key:"ruleFormRef",ref:n,model:e,"label-position":"top"},{default:r(()=>[a("div",G,[o(s),H,a("div",J,[o(d,{label:"Phone number"},{default:r(()=>[o(l,{modelValue:e.username,"onUpdate:modelValue":t[0]||(t[0]=u=>e.username=u)},null,8,["modelValue"])]),_:1}),o(d,{label:"Password"},{default:r(()=>[o(l,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=u=>e.password=u),type:"password",autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(d,null,{default:r(()=>[o(k,{class:"w-full rounded-2xl shadow-github_button",color:"#2da44e",type:"primary",onClick:t[2]||(t[2]=u=>w(n.value))},{default:r(()=>[K]),_:1})]),_:1})]),a("div",L,[O,a("a",Q,[o(x,{to:"signup"},{default:r(()=>[W]),_:1})]),X])])]),_:1},8,["model"])])}}});typeof f=="function"&&f(Z);export{Z as default};
