!function(){function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function t(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?e(Object(o),!0).forEach((function(e){r(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}System.register(["./index-legacy.d974566c.js","./el-input-legacy.ab2ec05c.js","./el-button-legacy.65c7019b.js","./favicon-legacy.0f209190.js","./route-block-legacy.416ddcc8.js","./index-legacy.ca9b60ce.js","./isNil-legacy.e59e30e8.js","./index-legacy.4248481f.js"],(function(e){"use strict";var r,n,o,a,l,u,s,c,i,f,d,b,p,g,m,y,h,j,w,v,O,x,P,_,k;return{setters:[function(e){r=e.d,n=e.al,o=e.l,a=e.o,l=e.am,u=e.f,s=e.j,c=e.w,i=e.an,f=e.ao,d=e.m,b=e.ap,p=e.e,g=e.h,m=e.k,y=e.aq,h=e.ar,j=e.aj,w=e.as},function(e){v=e.E,O=e.a,x=e.b},function(e){P=e.E},function(e){_=e._},function(e){k=e.b},function(){},function(){},function(){}],execute:function(){const E={class:"bg-white h-screen font-github"},S={class:"flex justify-center items-center flex-col"},V=g("div",{class:"p-8"},[g("img",{src:_,class:"w-12 h-12",alt:"tov"})],-1),D=g("div",{class:"font-300 text-2xl tracking-github mb-4"}," Sign in to tov-template ",-1),U={class:"h-57 w-77 bg-github_bg border-github_b rounded-xl border-1 p-4"},C=m("Sign in"),N=g("div",{class:"mt-3 w-77 bg-white border-github_b rounded-xl border-1 p-4"},[m(" New to Tov? "),g("a",{href:"signup",class:"text-github_a"},"Create an account"),m(" . ")],-1),R=r({name:"***",beforeRouteEnter(e,t,r){r((e=>{i.isEmpty(f().value)||e.router.replace(t.path)}))}}),T=e("default",r(t(t({},R),{},{setup(e,t){let r=t.expose;const i=n({username:"",password:""}),m=o(),_=d(),k=b();a((()=>{}));return r({router:_,currentUser:l,route:k}),(e,t)=>{const r=v,n=O,o=P,a=x;return p(),u("div",E,[s(a,{ref_key:"ruleFormRef",ref:m,model:i,"label-position":"top"},{default:c((()=>[g("div",S,[V,D,g("div",U,[s(n,{label:"Phone number"},{default:c((()=>[s(r,{modelValue:i.username,"onUpdate:modelValue":t[0]||(t[0]=e=>i.username=e)},null,8,["modelValue"])])),_:1}),s(n,{label:"Password"},{default:c((()=>[s(r,{modelValue:i.password,"onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e),type:"password",autocomplete:"off"},null,8,["modelValue"])])),_:1}),s(n,null,{default:c((()=>[s(o,{class:"w-full rounded-2xl shadow-github_button",color:"#2da44e",type:"primary",onClick:t[2]||(t[2]=e=>{var t;(t=m.value)&&t.validate((e=>{if(!e)return!1;y(i.username,i.password).then((e=>{f().value=e.getSessionToken(),h.success(`登录成功，欢迎您${e.getUsername()}回来~`);let t=j(w()).fromParams;_.push(t.value.fromPath)}),(e=>{h.error(e.rawMessage)}))}))})},{default:c((()=>[C])),_:1})])),_:1})]),N])])),_:1},8,["model"])])}}})));"function"==typeof k&&k(T)}}}))}();
