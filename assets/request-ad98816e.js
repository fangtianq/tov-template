import{aV as p,bA as h,ax as d,aS as m}from"./index-dc3531f8.js";import{a as n}from"./index-dea562f7.js";const f=(e,t)=>n.post(`/api${e}`,{...t}),j=(e,t,o={})=>n.get(`/api${e}?${x.jsonToQueryString(t)}`,o),x={jsonToQueryString(e){return Object.keys(e).map(function(t){return t+"="+e[t]}).join("&")}},$=(e,t="301284")=>{let o={...e.header};const r=e.method||"get";let{ajaxTimes:s}=p(h());const i=d()();o.Authorization=i.getSessionToken,s.value++;const c=m({message:"Loading",type:"success"}),u=`http://rap2api.taobao.org/app/mock/${t}/${r}`;return new Promise((l,g)=>{n({...e,header:o,url:u+e.url}).then(a=>{l(a.data)}).catch(a=>{g(a)}).then(()=>{s.value--,(s.value===0||s.value!==0)&&c.close()})})},b={get:j,post:f};export{b as a,$ as r};
