import{a as r}from"./index-c7647661.js";import{aM as h,aN as m,aO as d,aP as g}from"./index-b70f4fc5.js";import"./index.es-c39fb90a.js";const x=(e,o)=>r.post(`/api${e}`,{...o}),T=(e,o="301284")=>{let s={...e.header};const n=e.method||"get";let{ajaxTimes:t}=h(m());const c=d()();s.Authorization=c.getSessionToken,t.value++;const i=g({message:"Loading",type:"success"}),u=`http://rap2api.taobao.org/app/mock/${o}/${n}`;return new Promise((l,p)=>{r({...e,header:s,url:u+e.url}).then(a=>{l(a.data)}).catch(a=>{p(a)}).then(()=>{t.value--,(t.value===0||t.value!==0)&&i.close()})})};export{x as p,T as r};
