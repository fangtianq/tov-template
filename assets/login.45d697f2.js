import{d as g,aj as V,l as y,o as C,ak as B,a as R,f as o,w as r,e as a,al as S,am as h,m as P,an as N,h as T,b as n,i,ao as U,ap as f,ah as M,aq as j,r as I}from"./index.f3316679.js";/* empty css             */import{E as $,a as q,_ as A}from"./logo.15868558.js";import{E as D}from"./button.782f0545.js";import{E as z}from"./input.35af0503.js";import{b}from"./route-block.6a611cbf.js";import"./error.7e8331f1.js";import"./index.99d16592.js";import"./favicon.eb9475ba.js";import"./index.ac317971.js";import"./index.8bfffa1c.js";import"./event.776e7e11.js";const G={class:"h-screen font-github"},H={class:"flex justify-center items-center flex-col"},J=n("div",{class:"font-300 text-2xl tracking-github mb-4"}," Sign in to tov-template ",-1),K={class:"h-57 w-77 bg-github_bg dark:bg-github_bg_dark border-github_b rounded-xl border-1 p-4"},L={class:"mt-3 w-77 border-github_b rounded-xl border-1 p-4"},O={class:"text-github_a"},Q=g({name:"***",beforeRouteEnter(v,d,e){e(l=>{S.isEmpty(h().value)||l.router.replace(d.path)})}}),W=g({...Q,setup(v,{expose:d}){const e=V({username:"",password:""}),l=y(),c=P(),k=N();C(()=>{});const w=_=>{!_||_.validate(t=>{if(t)U()(e.username,e.password).then(s=>{h().value=s.getSessionToken(),f.success(`\u767B\u5F55\u6210\u529F\uFF0C\u6B22\u8FCE\u60A8${s.getUsername()}\u56DE\u6765~`);let{fromParams:u}=M(j());c.push(u.value.fromPath)},s=>{f.error(s.rawMessage)});else return!1})};return d({router:c,currentUser:B,route:k}),(_,t)=>{const s=A,u=z,p=$,x=D,E=I("router-link"),F=q;return T(),R("div",G,[o(F,{ref_key:"ruleFormRef",ref:l,model:a(e),"label-position":"top"},{default:r(()=>[n("div",H,[o(s),J,n("div",K,[o(p,{label:"Phone number"},{default:r(()=>[o(u,{modelValue:a(e).username,"onUpdate:modelValue":t[0]||(t[0]=m=>a(e).username=m)},null,8,["modelValue"])]),_:1}),o(p,{label:"Password"},{default:r(()=>[o(u,{modelValue:a(e).password,"onUpdate:modelValue":t[1]||(t[1]=m=>a(e).password=m),type:"password",autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(p,null,{default:r(()=>[o(x,{class:"w-full rounded-2xl shadow-github_button",color:"#2da44e",type:"primary",onClick:t[2]||(t[2]=m=>w(a(l)))},{default:r(()=>[i("Sign in")]),_:1})]),_:1})]),n("div",L,[i(" New to Tov? "),n("a",O,[o(E,{to:"signup"},{default:r(()=>[i("Create an account")]),_:1})]),i(" . ")])])]),_:1},8,["model"])])}}});typeof b=="function"&&b(W);export{W as default};
