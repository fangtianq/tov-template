/* empty css             */import{E as V,a as C}from"./form-item-6a1a9d26.js";import{E as R}from"./button-bfcc4e4a.js";/* empty css              */import{_ as S}from"./logo-23e8bad3.js";import{d as w,g as F,e as P,s as B,t as M,h as N,v as T,r as U,o as $,a as I,w as o,x as r,b as m,y as a,A as i,H as j,a8 as v,a9 as A,a3 as g,a6 as H,aa as q}from"./index-01622320.js";import{E as z}from"./index-38142232.js";import{b as h}from"./route-block-83d24a4e.js";import"./constants-6e2a2e6f.js";import"./use-form-item-e55812c6.js";import"./event-1da57d2d.js";import"./index-414d99d5.js";import"./_baseClone-2e2f2132.js";import"./_Uint8Array-ad24a697.js";import"./_initCloneObject-ae9ac112.js";import"./_getTag-79868909.js";import"./index-cae2b4ed.js";import"./index-86a38320.js";import"./favicon-d22aecf5.js";import"./isNil-c75b1b34.js";const D={class:"h-screen font-github"},G={class:"flex justify-center items-center flex-col"},J=m("div",{class:"font-300 text-2xl tracking-github mb-4"}," Sign in to tov-template ",-1),K={class:"h-67 w-77 bg-github_bg dark:bg-github_bg_dark border-github_b rounded-xl border-1 p-4"},L={class:"mt-3 w-77 border-github_b rounded-xl border-1 p-4"},O={class:"text-github_a"},Q=w({beforeRouteEnter(x,d,e){e(l=>{j.isEmpty(v().value)||l.router.replace(d.path)})}}),W=w({...Q,__name:"login",setup(x,{expose:d}){const e=F({username:"",password:""}),l=P(),c=B(),k=M();N(()=>{});const f=(p,t)=>{t&&(e.username="大哥",e.password="110"),p&&p.validate(_=>{if(_)A()(e.username,e.password).then(s=>{v().value=s.getSessionToken(),g.success("登录成功，欢迎您".concat(s.getUsername(),"回来~"));let{fromParams:n}=H(q());c.push(n.value.fromPath)},s=>{s.rawMessage&&g.error(s.rawMessage)});else return!1})};return d({router:c,currentUser:T,route:k}),(p,t)=>{const _=S,s=z,n=V,b=R,y=U("router-link"),E=C;return $(),I("div",D,[o(E,{ref_key:"ruleFormRef",ref:l,model:a(e),"label-position":"top"},{default:r(()=>[m("div",G,[o(_),J,m("div",K,[o(n,{label:"Phone number"},{default:r(()=>[o(s,{modelValue:a(e).username,"onUpdate:modelValue":t[0]||(t[0]=u=>a(e).username=u)},null,8,["modelValue"])]),_:1}),o(n,{label:"Password"},{default:r(()=>[o(s,{modelValue:a(e).password,"onUpdate:modelValue":t[1]||(t[1]=u=>a(e).password=u),type:"password",autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(n,null,{default:r(()=>[o(b,{class:"w-full rounded-2xl shadow-github_button",color:"#2da44e",type:"primary",onClick:t[2]||(t[2]=u=>f(a(l)))},{default:r(()=>[i("Sign in")]),_:1})]),_:1}),o(n,null,{default:r(()=>[o(b,{class:"w-full rounded-2xl shadow-github_button",color:"#2da44e",type:"primary",onClick:t[3]||(t[3]=u=>f(a(l),!0))},{default:r(()=>[i("匿名登陆")]),_:1})]),_:1})]),m("div",L,[i(" New to Tov? "),m("a",O,[o(y,{to:"signup"},{default:r(()=>[i("Create an account")]),_:1})]),i(" . ")])])]),_:1},8,["model"])])}}});typeof h=="function"&&h(W);export{W as default};
