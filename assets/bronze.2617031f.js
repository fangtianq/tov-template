import{a$ as ee,A as te,C as R,B as ae,D as E,a2 as P,aK as $,d as G,aP as ne,G as ie,c as _,aQ as se,l as B,H as oe,Q as A,o as le,e as i,f as d,h as k,i as t,J as h,b6 as ce,I as m,w as g,aX as O,aY as V,K as u,t as T,F as U,j as D,b5 as re,a6 as W,a_ as de,_ as ue,R as ve,a1 as he,b7 as Y,N as pe,b8 as fe,s as me,k as ye,b9 as b,ba as M,am as be}from"./index.86a40a31.js";import{U as z,C as K,I as F,u as _e,b as ke,a as ge,E as we}from"./el-button.e28380db.js";import{d as Ce,t as Ve}from"./index.66b36b85.js";import"./index.8efc4db0.js";const Te=l=>["",...ee].includes(l),Ie=te({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:R},inactiveIcon:{type:R},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:ae(Function)},size:{type:String,validator:Te},tabindex:{type:[String,Number]}}),Se={[z]:l=>E(l)||P(l)||$(l),[K]:l=>E(l)||P(l)||$(l),[F]:l=>E(l)||P(l)||$(l)},Oe=["onClick"],Ee=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],Be=["aria-hidden"],De=["aria-hidden"],Ne=["aria-hidden"],Pe=["aria-hidden"],$e={name:"ElSwitch"},Ae=G({...$e,props:Ie,emits:Se,setup(l,{expose:w,emit:r}){const n=l,I="ElSwitch",N=ve(),{formItem:o}=_e(),s=ne(),a=ie("switch");ke({from:'"value"',replacement:'"model-value" or "v-model"',scope:I,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},_(()=>{var e;return!!((e=N.vnode.props)!=null&&e.value)}));const{inputId:C}=ge(n,{formItemContext:o}),y=se(_(()=>n.loading)),p=B(n.modelValue!==!1),f=B(),Q=B(),j=_(()=>[a.b(),a.m(s.value),a.is("disabled",y.value),a.is("checked",c.value)]),q=_(()=>({width:oe(n.width)}));A(()=>n.modelValue,()=>{p.value=!0}),A(()=>n.value,()=>{p.value=!1});const L=_(()=>p.value?n.modelValue:n.value),c=_(()=>L.value===n.activeValue);[n.activeValue,n.inactiveValue].includes(L.value)||(r(z,n.inactiveValue),r(K,n.inactiveValue),r(F,n.inactiveValue)),A(c,e=>{var v;f.value.checked=e,n.validateEvent&&((v=o==null?void 0:o.validate)==null||v.call(o,"change").catch(Z=>Ce()))});const S=()=>{const e=c.value?n.inactiveValue:n.activeValue;r(z,e),r(K,e),r(F,e),he(()=>{f.value.checked=c.value})},H=()=>{if(y.value)return;const{beforeChange:e}=n;if(!e){S();return}const v=e();[Y(v),E(v)].includes(!0)||Ve(I,"beforeChange must return type `Promise<boolean>` or `boolean`"),Y(v)?v.then(x=>{x&&S()}).catch(x=>{}):v&&S()},J=_(()=>a.cssVarBlock({...n.activeColor?{"on-color":n.activeColor}:null,...n.inactiveColor?{"off-color":n.inactiveColor}:null,...n.borderColor?{"border-color":n.borderColor}:null})),X=()=>{var e,v;(v=(e=f.value)==null?void 0:e.focus)==null||v.call(e)};return le(()=>{f.value.checked=c.value}),w({focus:X,checked:c}),(e,v)=>(i(),d("div",{class:h(t(j)),style:W(t(J)),onClick:de(H,["prevent"])},[k("input",{id:t(C),ref_key:"input",ref:f,class:h(t(a).e("input")),type:"checkbox",role:"switch","aria-checked":t(c),"aria-disabled":t(y),name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:t(y),tabindex:e.tabindex,onChange:S,onKeydown:ce(H,["enter"])},null,42,Ee),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(i(),d("span",{key:0,class:h([t(a).e("label"),t(a).em("label","left"),t(a).is("active",!t(c))])},[e.inactiveIcon?(i(),m(t(V),{key:0},{default:g(()=>[(i(),m(O(e.inactiveIcon)))]),_:1})):u("v-if",!0),!e.inactiveIcon&&e.inactiveText?(i(),d("span",{key:1,"aria-hidden":t(c)},T(e.inactiveText),9,Be)):u("v-if",!0)],2)):u("v-if",!0),k("span",{ref_key:"core",ref:Q,class:h(t(a).e("core")),style:W(t(q))},[e.inlinePrompt?(i(),d("div",{key:0,class:h(t(a).e("inner"))},[e.activeIcon||e.inactiveIcon?(i(),d(U,{key:0},[e.activeIcon?(i(),m(t(V),{key:0,class:h([t(a).is("icon"),t(c)?t(a).is("show"):t(a).is("hide")])},{default:g(()=>[(i(),m(O(e.activeIcon)))]),_:1},8,["class"])):u("v-if",!0),e.inactiveIcon?(i(),m(t(V),{key:1,class:h([t(a).is("icon"),t(c)?t(a).is("hide"):t(a).is("show")])},{default:g(()=>[(i(),m(O(e.inactiveIcon)))]),_:1},8,["class"])):u("v-if",!0)],64)):e.activeText||e.inactiveIcon?(i(),d(U,{key:1},[e.activeText?(i(),d("span",{key:0,class:h([t(a).is("text"),t(c)?t(a).is("show"):t(a).is("hide")]),"aria-hidden":!t(c)},T(e.activeText.substring(0,3)),11,De)):u("v-if",!0),e.inactiveText?(i(),d("span",{key:1,class:h([t(a).is("text"),t(c)?t(a).is("hide"):t(a).is("show")]),"aria-hidden":t(c)},T(e.inactiveText.substring(0,3)),11,Ne)):u("v-if",!0)],64)):u("v-if",!0)],2)):u("v-if",!0),k("div",{class:h(t(a).e("action"))},[e.loading?(i(),m(t(V),{key:0,class:h(t(a).is("loading"))},{default:g(()=>[D(t(re))]),_:1},8,["class"])):u("v-if",!0)],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(i(),d("span",{key:1,class:h([t(a).e("label"),t(a).em("label","right"),t(a).is("active",t(c))])},[e.activeIcon?(i(),m(t(V),{key:0},{default:g(()=>[(i(),m(O(e.activeIcon)))]),_:1})):u("v-if",!0),!e.activeIcon&&e.activeText?(i(),d("span",{key:1,"aria-hidden":!t(c)},T(e.activeText),9,Pe)):u("v-if",!0)],2)):u("v-if",!0)],14,Oe))}});var Me=ue(Ae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const Ue=pe(Me),ze={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ke=k("path",{fill:"currentColor",d:"M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7H6v12Z"},null,-1),Fe=[Ke];function Le(l,w){return i(),d("svg",ze,Fe)}var He={name:"mdi-delete",render:Le};const xe={class:"flex justify-center items-center flex-col"},Re=k("h1",{class:"text-7xl"},"LiveQuery",-1),We={class:"inline-block pl-2"},Ye={class:"inline-block"},Ge=ye(" \u70B9\u51FB\u6DFB\u52A0"),Xe=G({__name:"bronze",setup(l){const w=fe(b.TODO.name);let r=B();w.find().then(o=>{r.value=o}),w.subscribe().then(o=>{o.on("create",s=>{r.value.push(s)}),o.on("enter",(s,a)=>{}),o.on("update",(s,a)=>{const C=r.value.findIndex(y=>y.id==(s==null?void 0:s.id));r.value[C]=s}),o.on("delete",s=>{r.value=r.value.filter(a=>a.id!=(s==null?void 0:s.id))})});const n=()=>{const o=M.AV.Object.extend(b.TODO.name),s=new o;s.set(b.TODO.keys.content,"Hello world!"),s.set(b.TODO.keys.done,!0),s.set(b.TODO.keys.user,be()),s.save().then(a=>{})},I=(o,s)=>{const a=M.AV.Object.createWithoutData(b.TODO.name,o);a.set(b.TODO.keys.done,s),a.save()},N=o=>{M.AV.Object.createWithoutData(b.TODO.name,o).destroy()};return(o,s)=>{const a=Ue,C=He,y=we;return i(),d("div",xe,[Re,(i(!0),d(U,null,me(t(r),p=>(i(),d("div",{key:p.id,class:"flex items-center justify-center"},[D(a,{modelValue:p.attributes.done,"onUpdate:modelValue":f=>p.attributes.done=f,onClick:f=>I(p.id,p.attributes.done)},null,8,["modelValue","onUpdate:modelValue","onClick"]),k("div",We,T(p.attributes.content),1),k("div",Ye,[D(C,{class:"mt-1",onClick:f=>N(p.id)},null,8,["onClick"])])]))),128)),D(y,{onClick:n},{default:g(()=>[Ge]),_:1})])}}});export{Xe as default};
