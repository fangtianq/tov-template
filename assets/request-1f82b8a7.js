import{a as r}from"./index-bddb5bf5.js";import{aN as h,aO as m,aP as d,aQ as g}from"./index-3cd95e0c.js";import"./index.es-01822340.js";const x=(e,o)=>r.post(`/api${e}`,{...o}),T=(e,o="301284")=>{let s={...e.header};const n=e.method||"get";let{ajaxTimes:t}=h(m());const c=d()();s.Authorization=c.getSessionToken,t.value++;const i=g({message:"Loading",type:"success"}),u=`http://rap2api.taobao.org/app/mock/${o}/${n}`;return new Promise((l,p)=>{r({...e,header:s,url:u+e.url}).then(a=>{l(a.data)}).catch(a=>{p(a)}).then(()=>{t.value--,(t.value===0||t.value!==0)&&i.close()})})};export{x as p,T as r};
