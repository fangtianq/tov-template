/* empty css             */import{E as Z,a as ee,b as te}from"./menu-item-d151fc83.js";/* empty css                */import"./popper-490b1252.js";import{o as S,a as L,b as f,d as K,e as v,f as g,g as H,h as Y,i as ne,n as ae,j as oe,k as le,l as ie,m as se,p as re,P as ue,q as de,u as ce,s as me,t as X,v as pe,r as fe,w as a,x as t,y as c,z as q,F as G,A as l,B,C as he,D as ve,c as W,E as _e,G as ge}from"./index-01622320.js";/* empty css              *//* empty css            */import{E as ye,a as xe}from"./select-ccc78ac8.js";import"./scrollbar-c02d83c8.js";import{E as be}from"./switch-ce04770a.js";import{_ as Se}from"./mingyanjinju.vue_vue_type_script_setup_true_lang-7649a3ff.js";import{p as J}from"./platinum_colors_zh-402f1160.js";import{u as we}from"./useDarks-85e08c1e.js";import"./aria-bc8e8b0f.js";import"./index-e8246fa3.js";import"./index-86a38320.js";import"./index-cae2b4ed.js";import"./event-1da57d2d.js";import"./vnode-24a45ddd.js";import"./isNil-c75b1b34.js";import"./constants-6e2a2e6f.js";import"./focus-trap-48b16445.js";import"./index-38142232.js";import"./use-form-item-e55812c6.js";import"./index-b00a512e.js";import"./strings-492f40f1.js";import"./scroll-1b8853ea.js";import"./isEqual-c60a97e1.js";import"./_baseIsEqual-12af7c5a.js";import"./_Uint8Array-ad24a697.js";import"./_getTag-79868909.js";import"./debounce-a056aefe.js";import"./_baseIteratee-b1656efc.js";import"./hasIn-75ed73dd.js";import"./identity-46f208ab.js";import"./validator-e94c5d77.js";const ke={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ce=f("path",{fill:"currentColor",d:"M12 2C8.13 2 5 5.13 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74c0-3.87-3.13-7-7-7m2 11.58V16h-1v-4.59l1.71-1.7c.39-.39.39-1.03 0-1.42c-.39-.39-1.03-.39-1.42 0L12 9.59l-1.29-1.3c-.39-.39-1.03-.39-1.42 0c-.39.39-.39 1.03 0 1.42l1.71 1.7V16h-1v-2.42C8.23 12.81 7 11.05 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.05-1.23 3.81-3 4.58M9 20h6v1c0 .55-.45 1-1 1h-4c-.55 0-1-.45-1-1z"},null,-1),Be=[Ce];function $e(i,m){return S(),L("svg",ke,[...Be])}const Ve={name:"mdi-lightbulb-variant-outline",render:$e},Ee={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ze=f("path",{fill:"currentColor",d:"M17.65 6.35A7.958 7.958 0 0 0 12 4a8 8 0 0 0-8 8a8 8 0 0 0 8 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18a6 6 0 0 1-6-6a6 6 0 0 1 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"},null,-1),Le=[ze];function Me(i,m){return S(),L("svg",Ee,[...Le])}const Ne={name:"mdi-refresh",render:Me},Te={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ae=f("path",{fill:"currentColor",d:"m3.55 19.09l1.41 1.41l1.8-1.79l-1.42-1.42M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6s6-2.69 6-6c0-3.32-2.69-6-6-6m8 7h3v-2h-3m-2.76 7.71l1.8 1.79l1.41-1.41l-1.79-1.8M20.45 5l-1.41-1.4l-1.8 1.79l1.42 1.42M13 1h-2v3h2M6.76 5.39L4.96 3.6L3.55 5l1.79 1.81zM1 13h3v-2H1m12 9h-2v3h2"},null,-1),Pe=[Ae];function Fe(i,m){return S(),L("svg",Te,[...Pe])}const Re={name:"mdi-white-balance-sunny",render:Fe},De={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Oe=f("path",{fill:"currentColor",d:"M12 2a9.91 9.91 0 0 0-3 .46a10 10 0 0 1 0 19.08A10 10 0 1 0 12 2"},null,-1),Qe=[Oe];function We(i,m){return S(),L("svg",De,[...Qe])}const je={name:"mdi-moon-waxing-crescent",render:We};var I=K({name:"vue3-danmaku",components:{},props:{danmus:{type:Array,required:!0,default:()=>[]},channels:{type:Number,default:0},autoplay:{type:Boolean,default:!0},loop:{type:Boolean,default:!1},useSlot:{type:Boolean,default:!1},debounce:{type:Number,default:100},speeds:{type:Number,default:200},randomChannel:{type:Boolean,default:!1},fontSize:{type:Number,default:18},top:{type:Number,default:4},right:{type:Number,default:0},isSuspend:{type:Boolean,default:!1},extraStyle:{type:String,default:""}},emits:["list-end","play-end","dm-over","dm-out","update:danmus"],setup(i,{emit:m,slots:$}){let y=v(document.createElement("div")),r=v(document.createElement("div"));const h=v(0),x=v(0);let E=0;const R=v(0),M=v(0),b=v(0),N=v(!1),k=v(!1),p=v({}),u=function(s,d,e="modelValue",o){return g({get:()=>s[e],set:C=>{d("update:".concat(e),o?o(C):C)}})}(i,m,"danmus"),n=H({channels:g(()=>i.channels||R.value),autoplay:g(()=>i.autoplay),loop:g(()=>i.loop),useSlot:g(()=>i.useSlot),debounce:g(()=>i.debounce),randomChannel:g(()=>i.randomChannel)}),_=H({height:g(()=>M.value),fontSize:g(()=>i.fontSize),speeds:g(()=>i.speeds),top:g(()=>i.top),right:g(()=>i.right)});function D(){O(),i.isSuspend&&function(){let s=[];r.value.addEventListener("mouseover",d=>{let e=d.target;e.className.includes("dm")||(e=e.closest(".dm")||e),e.className.includes("dm")&&(s.includes(e)||(m("dm-over",{el:e}),e.classList.add("pause"),s.push(e)))}),r.value.addEventListener("mouseout",d=>{let e=d.target;e.className.includes("dm")||(e=e.closest(".dm")||e),e.className.includes("dm")&&(m("dm-out",{el:e}),e.classList.remove("pause"),s.forEach(o=>{o.classList.remove("pause")}),s=[])})}(),n.autoplay&&Q()}function O(){if(h.value=y.value.offsetWidth,x.value=y.value.offsetHeight,h.value===0||x.value===0)throw new Error("获取不到容器宽高")}function Q(){k.value=!1,E||(E=setInterval(()=>function(){if(!k.value&&u.value.length)if(b.value>u.value.length-1){const s=r.value.children.length;n.loop&&(s<b.value&&(m("list-end"),b.value=0),P())}else P()}(),n.debounce))}function P(s){const d=n.loop?b.value%u.value.length:b.value,e=s||u.value[d];let o=document.createElement("div");n.useSlot?o=function(C,w){return le({render:()=>ie("div",{},[$.dm&&$.dm({danmu:C,index:w})])}).mount(document.createElement("div"))}(e,d).$el:(o.innerHTML=e,o.setAttribute("style",i.extraStyle),o.style.fontSize="".concat(_.fontSize,"px"),o.style.lineHeight="".concat(_.fontSize,"px")),o.classList.add("dm"),r.value.appendChild(o),o.style.opacity="0",se(()=>{_.height||(M.value=o.offsetHeight),n.channels||(R.value=Math.floor(x.value/(_.height+_.top)));let C=function(w){let T=[...Array(n.channels).keys()];n.randomChannel&&(T=T.sort(()=>.5-Math.random()));for(let z of T){const A=p.value[z];if(!A||!A.length)return p.value[z]=[w],w.addEventListener("animationend",()=>p.value[z].splice(0,1)),z%n.channels;for(let F=0;F<A.length;F++){const U=j(A[F])-10;if(U<=.88*(w.offsetWidth-A[F].offsetWidth)||U<=0)break;if(F===A.length-1)return p.value[z].push(w),w.addEventListener("animationend",()=>p.value[z].splice(0,1)),z%n.channels}}return-1}(o);if(C>=0){const w=o.offsetWidth,T=_.height;o.classList.add("move"),o.dataset.index="".concat(d),o.style.opacity="1",o.style.top=C*(T+_.top)+"px",o.style.width=w+_.right+"px",o.style.setProperty("--dm-scroll-width","-".concat(h.value+w,"px")),o.style.left="".concat(h.value,"px"),o.style.animationDuration=h.value/_.speeds+"s",o.addEventListener("animationend",()=>{Number(o.dataset.index)!==u.value.length-1||n.loop||m("play-end",o.dataset.index),r.value&&r.value.removeChild(o)}),b.value++}else r.value.removeChild(o)})}function j(s){const d=s.offsetWidth||parseInt(s.style.width),e=s.getBoundingClientRect().right||r.value.getBoundingClientRect().right+d;return r.value.getBoundingClientRect().right-e}function V(){clearInterval(E),E=0,b.value=0}return Y(()=>{D()}),ne(()=>{V()}),{container:y,dmContainer:r,hidden:N,paused:k,danmuList:u,getPlayState:function(){return!k.value},resize:function(){O();const s=r.value.getElementsByClassName("dm");for(let d=0;d<s.length;d++){const e=s[d];e.style.setProperty("--dm-scroll-width","-".concat(h.value+e.offsetWidth,"px")),e.style.left="".concat(h.value,"px"),e.style.animationDuration=h.value/_.speeds+"s"}},play:Q,pause:function(){k.value=!0},stop:function(){p.value={},r.value.innerHTML="",k.value=!0,N.value=!1,V()},show:function(){N.value=!1},hide:function(){N.value=!0},reset:function(){M.value=0,D()},add:function(s){if(b.value===u.value.length)return u.value.push(s),u.value.length-1;{const d=b.value%u.value.length;return u.value.splice(d,0,s),d+1}},push:function(s){return u.value.push(s),u.value.length-1},insert:P}}});const Ie={ref:"container",class:"vue-danmaku"};(function(i,m){m===void 0&&(m={});var $=m.insertAt;if(i&&typeof document<"u"){var y=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",$==="top"&&y.firstChild?y.insertBefore(r,y.firstChild):y.appendChild(r),r.styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i))}})(".vue-danmaku {\n  position: relative;\n  overflow: hidden;\n}\n.vue-danmaku .danmus {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  -webkit-transition: all 0.3s;\n  transition: all 0.3s;\n}\n.vue-danmaku .danmus.show {\n  opacity: 1;\n}\n.vue-danmaku .danmus.paused .dm.move {\n  animation-play-state: paused;\n}\n.vue-danmaku .danmus .dm {\n  position: absolute;\n  font-size: 20px;\n  color: #ddd;\n  white-space: pre;\n  transform: translateX(0);\n  transform-style: preserve-3d;\n}\n.vue-danmaku .danmus .dm.move {\n  will-change: transform;\n  animation-name: moveLeft;\n  animation-timing-function: linear;\n  animation-play-state: running;\n}\n.vue-danmaku .danmus .dm.pause {\n  animation-play-state: paused;\n  z-index: 100;\n}\n@keyframes moveLeft {\n  from {\n    transform: translateX(0);\n  }\n  to {\n    transform: translateX(var(--dm-scroll-width));\n  }\n}\n@-webkit-keyframes moveLeft {\n  from {\n    -webkit-transform: translateX(0);\n  }\n  to {\n    -webkit-transform: translateX(var(--dm-scroll-width));\n  }\n}"),I.render=function(i,m,$,y,r,h){return S(),L("div",Ie,[f("div",{ref:"dmContainer",class:ae(["danmus",{show:!i.hidden},{paused:i.paused}])},null,2),oe(i.$slots,"default")],512)},I.__file="src/lib/Danmaku.vue";const Ue={class:"flex-grow relative"},He={class:"flex text-purple-600 flex-row items-center justify-center h-full"},Xe={class:"absolute bottom-4 right-28 text-xs flex items-end"},qe={class:"absolute bottom-0 right-4 text-xs flex items-end"},Ge={class:"flex flex-col items-center justify-center text-12px"},Je={class:"text-#9a6700 text-14px"},Ke=f("div",{class:"rotate-90"},"随机",-1),Ye=f("div",{class:"z-10 fill-transparent animate-bounce animate-count-infinite animate-duration-3s"}," 图片 ",-1),Ze={href:"https://github.com/fangtianq/tov-template",target:"_blank",class:"hover:border-b-orange-300 hover:border-b-2"},et=["id"],Ft=K({__name:"defaultTop",setup(i){var k;const m=v(),$=v();re(ue.REFDANMU,$);const y=p=>p.user?p.user.username+"："+p.content:p;Y(()=>{});const r=de(),{isDark:h}=we(),x=ce(),E=me(),R=X(),M=pe()(),b=v((k=X())==null?void 0:k.path),N=p=>{p==="/demo/randomPic"&&(E.push(p),R.path==p&&E.replace("/refresh"))};return(p,u)=>{const n=ee,_=Ne,D=Se,O=be,Q=xe,P=ye,j=Ve,V=te,s=Z,d=fe("router-view");return S(),L(G,null,[a(s,{"default-active":c(b),class:"el-menu-demo",mode:"horizontal",ellipsis:!1,router:!0,onSelect:N},{default:t(()=>[a(n,{index:"/"},{default:t(()=>[l(B(c(x).t("header.shouye")),1)]),_:1}),f("div",Ue,[a(D,null,{default:t(({mingyan:e,refresh:o,hitokoto:C})=>[f("div",He,[f("div",null,B(C),1)]),f("div",Xe,[l(B("--来自：".concat(e.creator,"(").concat(e.from,")"))+" ",1),a(_,{class:"text-indigo-600 cursor-pointer",onClick:o},null,8,["onClick"])]),f("div",qe,B("".concat(c(he)(e.created_at).format())),1)]),_:1})]),f("div",Ge,[a(O,{modelValue:c(h),"onUpdate:modelValue":u[0]||(u[0]=e=>q(h)?h.value=e:null),"active-value":!0,"inactive-value":!1,"inline-prompt":"",style:"--el-switch-on-color: #2c2c2c; --el-switch-off-color: #f2f2f2","active-icon":c(je),"inactive-icon":c(Re)},null,8,["modelValue","active-icon","inactive-icon"]),a(P,{modelValue:c(x).locale.value,"onUpdate:modelValue":u[1]||(u[1]=e=>c(x).locale.value=e),size:"small",class:"w-14"},{default:t(()=>[(S(!0),L(G,null,ve(c(x).availableLocales,e=>(S(),W(Q,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),a(n,{index:"/demo"},{default:t(()=>[l(B(c(x).t("header.yangli")),1)]),_:1}),a(V,{index:"2"},{title:t(()=>[l("Workspace")]),default:t(()=>[a(n,{index:"/demo/user/pinia"},{default:t(()=>[l("pinia")]),_:1}),a(n,{index:"/about"},{default:t(()=>[l("about")]),_:1}),a(n,{index:"/test"},{default:t(()=>[l("test")]),_:1}),a(n,{index:"/temp/test"},{default:t(()=>[l("temptest")]),_:1}),a(V,{index:"3"},{title:t(()=>[f("span",Je,[a(j),l("FTQPriSpringbootVueBlog")])]),default:t(()=>[a(n,{index:"/pri/FTQPriSpringbootVueBlog"},{default:t(()=>[l("blogserver")]),_:1}),a(n,{index:"/pri/FTQPriSpringbootVueBlog/Spring-Boot-Security-Authorization"},{default:t(()=>[l("Spring-Boot-Security-Authorization")]),_:1}),a(n,{index:"/pri/FTQPriSpringbootVueBlog/Spring-Boot-Shiro-Authorization"},{default:t(()=>[l("Spring-Boot-Shiro-Authorization")]),_:1}),a(n,{index:"/pri/FTQPriSpringbootVueBlog/vue-shiro"},{default:t(()=>[l("vue-shiro")]),_:1})]),_:1})]),_:1}),a(n,{index:"/demo/randomPic"},{default:t(()=>[Ke,Ye]),_:1}),a(n,{index:"/app"},{default:t(()=>[l("导航")]),_:1}),f("a",Ze,[a(n,null,{default:t(()=>[l(B(c(x).t("header.bangzhu")),1)]),_:1})]),c(M)?(S(),W(V,{key:0,index:""},{title:t(()=>[l("Signed in as "+B(c(M).getUsername()),1)]),default:t(()=>[a(V,{index:"pri"},{title:t(()=>[l("样例页面")]),default:t(()=>[a(n,{index:"/pri/arenaOfValor/bronze",desc:"青铜"},{default:t(()=>[l("LiveQuery(leancloud)")]),_:1}),a(n,{index:"/pri/FTQPriSpringbootVueBlog/siderPage/liveQuery"},{default:t(()=>[l("socket(FTQPriSpringbootVueBlog)")]),_:1}),a(n,{index:"/pri/arenaOfValor/lafyun"},{default:t(()=>[l("socket(lafyun)")]),_:1}),a(n,{index:"/pri/arenaOfValor/gold"},{default:t(()=>[l("Threejs")]),_:1}),a(n,{index:"/pri/arenaOfValor/platinum"},{default:t(()=>[l("中国红")]),_:1}),a(n,{index:"/pri/arenaOfValor/diamond",desc:"钻石"},{default:t(()=>[l("useBroadcastChannel")]),_:1}),a(n,{index:"/pri/arenaOfValor/xingyao"},{default:t(()=>[l("m3u8-downloader")]),_:1}),a(n,{index:"/pri/arenaOfValor/king"},{default:t(()=>[l("zip上传解析")]),_:1}),a(n,{index:"/pri/fun/tgrj"},{default:t(()=>[l("甜狗日记")]),_:1})]),_:1}),c(r)?(S(),W(V,{key:0,index:"pri1"},{title:t(()=>[l("管理员")]),default:t(()=>[a(n,{index:"/admin/notepad"},{default:t(()=>[l("笔记本")]),_:1})]),_:1})):_e("",!0),a(n,{index:"/signout"},{default:t(()=>[l("Sign out")]),_:1})]),_:1})):(S(),W(n,{key:1,index:"/login"},{default:t(()=>[l(B(c(x).t("header.denglu")),1)]),_:1}))]),_:1},8,["default-active"]),a(c(I),{ref_key:"danmakuRef",ref:$,danmus:c(m),"onUpdate:danmus":u[2]||(u[2]=e=>q(m)?m.value=e:null),"random-channel":!0,"is-suspend":!0,"use-slot":""},{dm:t(({index:e,danmu:o})=>[f("span",{id:"danmu"+e,style:ge({position:"sticky",color:c(J)[Math.floor(Math.random()*c(J).length)].hex})},B(y(o)),13,et)]),default:t(()=>[a(d)]),_:1},8,["danmus"])],64)}}});export{Ft as default};
