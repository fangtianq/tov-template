import{aI as ae,A as ne,C as X,B as se,D as $,a4 as M,aZ as F,d as Y,aJ as oe,E as ie,c as A,aV as le,l as g,G as ce,P as K,o as te,j as l,e as h,f as k,h as t,I as y,b6 as re,H as D,w as I,aR as P,aW as L,J as f,t as T,F as H,i as R,aU as ue,a7 as W,b5 as de,_ as ve,Q as he,a3 as pe,b7 as Q,M as fe,b8 as ee,b9 as me,ba as ye,bb as i,s as be,bc as C,al as ge,k as ke}from"./index.f34240a3.js";import{u as _e,E as De}from"./el-button.9d8893f6.js";import{U as j,C as J,I as Z,u as we,a as Ee,E as Ae}from"./el-input.2c599987.js";import{d as Be,t as Ve}from"./error.7e8331f1.js";import"./index.8bfffa1c.js";import"./index.1bb8179e.js";const Ce=u=>["",...ae].includes(u),Ie=ne({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:X},inactiveIcon:{type:X},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:se(Function)},size:{type:String,validator:Ce},tabindex:{type:[String,Number]}}),Te={[j]:u=>$(u)||M(u)||F(u),[J]:u=>$(u)||M(u)||F(u),[Z]:u=>$(u)||M(u)||F(u)},Ge=["onClick"],Oe=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],Se=["aria-hidden"],Le=["aria-hidden"],Re=["aria-hidden"],Ne=["aria-hidden"],q="ElSwitch",xe=Y({name:q}),Pe=Y({...xe,props:Ie,emits:Te,setup(u,{expose:G,emit:d}){const o=u,U=he(),{formItem:B}=we(),z=oe(),s=ie("switch");_e({from:'"value"',replacement:'"model-value" or "v-model"',scope:q,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},A(()=>{var e;return!!((e=U.vnode.props)!=null&&e.value)}));const{inputId:w}=Ee(o,{formItemContext:B}),b=le(A(()=>o.loading)),O=g(o.modelValue!==!1),E=g(),N=g(),V=A(()=>[s.b(),s.m(z.value),s.is("disabled",b.value),s.is("checked",r.value)]),x=A(()=>({width:ce(o.width)}));K(()=>o.modelValue,()=>{O.value=!0}),K(()=>o.value,()=>{O.value=!1});const S=A(()=>O.value?o.modelValue:o.value),r=A(()=>S.value===o.activeValue);[o.activeValue,o.inactiveValue].includes(S.value)||(d(j,o.inactiveValue),d(J,o.inactiveValue),d(Z,o.inactiveValue)),K(r,e=>{var v;E.value.checked=e,o.validateEvent&&((v=B==null?void 0:B.validate)==null||v.call(B,"change").catch(m=>Be()))});const n=()=>{const e=r.value?o.inactiveValue:o.activeValue;d(j,e),d(J,e),d(Z,e),pe(()=>{E.value.checked=r.value})},a=()=>{if(b.value)return;const{beforeChange:e}=o;if(!e){n();return}const v=e();[Q(v),$(v)].includes(!0)||Ve(q,"beforeChange must return type `Promise<boolean>` or `boolean`"),Q(v)?v.then(_=>{_&&n()}).catch(_=>{}):v&&n()},c=A(()=>s.cssVarBlock({...o.activeColor?{"on-color":o.activeColor}:null,...o.inactiveColor?{"off-color":o.inactiveColor}:null,...o.borderColor?{"border-color":o.borderColor}:null})),p=()=>{var e,v;(v=(e=E.value)==null?void 0:e.focus)==null||v.call(e)};return te(()=>{E.value.checked=r.value}),G({focus:p,checked:r}),(e,v)=>(l(),h("div",{class:y(t(V)),style:W(t(c)),onClick:de(a,["prevent"])},[k("input",{id:t(w),ref_key:"input",ref:E,class:y(t(s).e("input")),type:"checkbox",role:"switch","aria-checked":t(r),"aria-disabled":t(b),name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:t(b),tabindex:e.tabindex,onChange:n,onKeydown:re(a,["enter"])},null,42,Oe),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(l(),h("span",{key:0,class:y([t(s).e("label"),t(s).em("label","left"),t(s).is("active",!t(r))])},[e.inactiveIcon?(l(),D(t(L),{key:0},{default:I(()=>[(l(),D(P(e.inactiveIcon)))]),_:1})):f("v-if",!0),!e.inactiveIcon&&e.inactiveText?(l(),h("span",{key:1,"aria-hidden":t(r)},T(e.inactiveText),9,Se)):f("v-if",!0)],2)):f("v-if",!0),k("span",{ref_key:"core",ref:N,class:y(t(s).e("core")),style:W(t(x))},[e.inlinePrompt?(l(),h("div",{key:0,class:y(t(s).e("inner"))},[e.activeIcon||e.inactiveIcon?(l(),h(H,{key:0},[e.activeIcon?(l(),D(t(L),{key:0,class:y([t(s).is("icon"),t(r)?t(s).is("show"):t(s).is("hide")])},{default:I(()=>[(l(),D(P(e.activeIcon)))]),_:1},8,["class"])):f("v-if",!0),e.inactiveIcon?(l(),D(t(L),{key:1,class:y([t(s).is("icon"),t(r)?t(s).is("hide"):t(s).is("show")])},{default:I(()=>[(l(),D(P(e.inactiveIcon)))]),_:1},8,["class"])):f("v-if",!0)],64)):e.activeText||e.inactiveIcon?(l(),h(H,{key:1},[e.activeText?(l(),h("span",{key:0,class:y([t(s).is("text"),t(r)?t(s).is("show"):t(s).is("hide")]),"aria-hidden":!t(r)},T(e.activeText.substring(0,3)),11,Le)):f("v-if",!0),e.inactiveText?(l(),h("span",{key:1,class:y([t(s).is("text"),t(r)?t(s).is("hide"):t(s).is("show")]),"aria-hidden":t(r)},T(e.inactiveText.substring(0,3)),11,Re)):f("v-if",!0)],64)):f("v-if",!0)],2)):f("v-if",!0),k("div",{class:y(t(s).e("action"))},[e.loading?(l(),D(t(L),{key:0,class:y(t(s).is("loading"))},{default:I(()=>[R(t(ue))]),_:1},8,["class"])):f("v-if",!0)],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(l(),h("span",{key:1,class:y([t(s).e("label"),t(s).em("label","right"),t(s).is("active",t(r))])},[e.activeIcon?(l(),D(t(L),{key:0},{default:I(()=>[(l(),D(P(e.activeIcon)))]),_:1})):f("v-if",!0),!e.activeIcon&&e.activeText?(l(),h("span",{key:1,"aria-hidden":!t(r)},T(e.activeText),9,Ne)):f("v-if",!0)],2)):f("v-if",!0)],14,Ge))}});var $e=ve(Pe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const Ue=fe($e),ze={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Me=k("path",{fill:"currentColor",d:"M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7H6v12Z"},null,-1),Fe=[Me];function Ke(u,G){return l(),h("svg",ze,Fe)}const He={name:"mdi-delete",render:Ke};const We={class:"flex justify-center items-center flex-col"},je=k("h1",{class:"text-7xl"},"LiveQuery",-1),Je={class:"w-50 pl-2 pr-2 inline-block"},Ze={class:"inline-block"},qe=k("div",{class:"cursor-move"},"\u{1F44B} Drag here!",-1),Ye=k("div",{class:"text-xs opacity-50"},"Handle that triggers the drag event",-1),Xe={class:"text-sm opacity-50"},ot=Y({__name:"bronze",setup(u){const G=ee(i.TODO.name);let d=g();G.find().then(n=>{d.value=n}),G.subscribe().then(n=>{n.on("create",a=>{d.value.push(a)}),n.on("enter",(a,c)=>{}),n.on("update",(a,c)=>{const p=d.value.findIndex(e=>e.id==(a==null?void 0:a.id));d.value[p]=a}),n.on("delete",a=>{d.value=d.value.filter(c=>c.id!=(a==null?void 0:a.id))})});const o=()=>{const n=C.Object.extend(i.TODO.name),a=new n;a.set(i.TODO.keys.content,"Hello world!"),a.set(i.TODO.keys.done,!0),a.set(i.TODO.keys.user,ge()()),a.save().then(c=>{})},U=(n,a)=>{const c=C.Object.createWithoutData(i.TODO.name,n);c.set(i.TODO.keys.done,a),c.save()},B=(n,a)=>{const c=C.Object.createWithoutData(i.TODO.name,n);c.set(i.TODO.keys.content,a),c.save()},z=n=>{C.Object.createWithoutData(i.TODO.name,n).destroy()},s=g(null);let{x:w,y:b,style:O}=me(s,{initialValue:{x:40,y:40}});const[E,N]=[g(w),g(b)];let V=g();ye([E,N],()=>{const n=C.Object.createWithoutData(i.DRAGGABLE.name,V.value);n.set(i.DRAGGABLE.keys.x,E.value),n.set(i.DRAGGABLE.keys.y,N.value),n.save()},{debounce:500});const x=ee(i.DRAGGABLE.name),S=(n,a)=>{const c=C.Object.extend(i.DRAGGABLE.name),p=new c;return p.set(i.DRAGGABLE.keys.name,"bronzeDrag"),p.set(i.DRAGGABLE.keys.x,n),p.set(i.DRAGGABLE.keys.y,a),p.save(),p},r=n=>{if(n){w.value=n.x,b.value=n.y;return}x.find().then(a=>{if(!(a!=null&&a.length))r(S(40,40));else{const c=a.filter(p=>p.get(i.DRAGGABLE.keys.name)=="bronzeDrag")[0];w.value=c.get(i.DRAGGABLE.keys.x),b.value=c.get(i.DRAGGABLE.keys.y),V=g(c.id)}},a=>{a.code=="101"&&r(S(40,40))})};return x.subscribe().then(n=>{n.on("create",a=>{V=g(a.id),w.value=a.get(i.DRAGGABLE.keys.x),b.value=a.get(i.DRAGGABLE.keys.y)}),n.on("enter",(a,c)=>{}),n.on("update",(a,c)=>{V=g(a.id),w.value=a.get(i.DRAGGABLE.keys.x),b.value=a.get(i.DRAGGABLE.keys.y)}),n.on("delete",a=>{})}),te(()=>{}),r(null),(n,a)=>{const c=Ue,p=Ae,e=He,v=De;return l(),h("div",We,[je,(l(!0),h(H,null,be(t(d),m=>(l(),h("div",{key:m.id,class:"flex items-center justify-center p-2"},[R(c,{modelValue:m.attributes.done,"onUpdate:modelValue":_=>m.attributes.done=_,onClick:_=>U(m.id,m.attributes.done)},null,8,["modelValue","onUpdate:modelValue","onClick"]),k("div",Je,[R(p,{modelValue:m.attributes.content,"onUpdate:modelValue":_=>m.attributes.content=_,clearable:"",onInput:_=>B(m.id,m.attributes.content)},null,8,["modelValue","onUpdate:modelValue","onInput"])]),k("div",Ze,[R(e,{class:"mt-1",onClick:_=>z(m.id)},null,8,["onClick"])])]))),128)),R(v,{onClick:o},{default:I(()=>[ke(" \u70B9\u51FB\u6DFB\u52A0")]),_:1}),k("div",{ref_key:"settingRef",ref:s,style:W(t(O)),class:"bg-light-50 fixed shadow select-none z-10 hover:shadow-lg px-4 py-2 border-gray-400/30 rounded fixed"},[qe,Ye,k("div",Xe," I am at "+T(Math.round(t(w)))+", "+T(Math.round(t(b))),1)],4)])}}});export{ot as default};
