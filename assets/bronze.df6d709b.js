import{aJ as ee,A as te,C as j,B as ae,D as P,a2 as $,aZ as M,d as Y,aK as ne,G as oe,c as V,aV as se,l as A,H as ie,Q as z,o as le,e as o,f as u,h as g,i as a,J as h,b6 as ce,I as m,w as C,aR as D,aW as I,K as d,t as B,F as K,j as O,aU as re,a6 as G,b5 as ue,_ as de,R as ve,a1 as pe,b7 as J,N as he,b8 as fe,s as me,k as ye,b9 as f,ba as N,am as be}from"./index.a5ffe1ae.js";import{u as _e,E as ke}from"./el-button.e7a1384f.js";import{U as F,C as L,I as H,u as Ve,a as ge,E as we}from"./el-input.02a749f4.js";import{d as Ce,t as Te}from"./error.7e8331f1.js";import"./index.8bfffa1c.js";import"./index.02e9a362.js";const Ie=s=>["",...ee].includes(s),Oe=te({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:j},inactiveIcon:{type:j},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:ae(Function)},size:{type:String,validator:Ie},tabindex:{type:[String,Number]}}),Se={[F]:s=>P(s)||$(s)||M(s),[L]:s=>P(s)||$(s)||M(s),[H]:s=>P(s)||$(s)||M(s)},Ee=["onClick"],De=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],Be=["aria-hidden"],Ne=["aria-hidden"],Pe=["aria-hidden"],Ae=["aria-hidden"],Ue={name:"ElSwitch"},$e=Y({...Ue,props:Oe,emits:Se,setup(s,{expose:T,emit:c}){const n=s,S="ElSwitch",U=ve(),{formItem:w}=Ve(),i=ne(),e=oe("switch");_e({from:'"value"',replacement:'"model-value" or "v-model"',scope:S,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},V(()=>{var t;return!!((t=U.vnode.props)!=null&&t.value)}));const{inputId:r}=ge(n,{formItemContext:w}),y=se(V(()=>n.loading)),_=A(n.modelValue!==!1),k=A(),v=A(),b=V(()=>[e.b(),e.m(i.value),e.is("disabled",y.value),e.is("checked",l.value)]),Z=V(()=>({width:ie(n.width)}));z(()=>n.modelValue,()=>{_.value=!0}),z(()=>n.value,()=>{_.value=!1});const R=V(()=>_.value?n.modelValue:n.value),l=V(()=>R.value===n.activeValue);[n.activeValue,n.inactiveValue].includes(R.value)||(c(F,n.inactiveValue),c(L,n.inactiveValue),c(H,n.inactiveValue)),z(l,t=>{var p;k.value.checked=t,n.validateEvent&&((p=w==null?void 0:w.validate)==null||p.call(w,"change").catch(X=>Ce()))});const E=()=>{const t=l.value?n.inactiveValue:n.activeValue;c(F,t),c(L,t),c(H,t),pe(()=>{k.value.checked=l.value})},W=()=>{if(y.value)return;const{beforeChange:t}=n;if(!t){E();return}const p=t();[J(p),P(p)].includes(!0)||Te(S,"beforeChange must return type `Promise<boolean>` or `boolean`"),J(p)?p.then(x=>{x&&E()}).catch(x=>{}):p&&E()},q=V(()=>e.cssVarBlock({...n.activeColor?{"on-color":n.activeColor}:null,...n.inactiveColor?{"off-color":n.inactiveColor}:null,...n.borderColor?{"border-color":n.borderColor}:null})),Q=()=>{var t,p;(p=(t=k.value)==null?void 0:t.focus)==null||p.call(t)};return le(()=>{k.value.checked=l.value}),T({focus:Q,checked:l}),(t,p)=>(o(),u("div",{class:h(a(b)),style:G(a(q)),onClick:ue(W,["prevent"])},[g("input",{id:a(r),ref_key:"input",ref:k,class:h(a(e).e("input")),type:"checkbox",role:"switch","aria-checked":a(l),"aria-disabled":a(y),name:t.name,"true-value":t.activeValue,"false-value":t.inactiveValue,disabled:a(y),tabindex:t.tabindex,onChange:E,onKeydown:ce(W,["enter"])},null,42,De),!t.inlinePrompt&&(t.inactiveIcon||t.inactiveText)?(o(),u("span",{key:0,class:h([a(e).e("label"),a(e).em("label","left"),a(e).is("active",!a(l))])},[t.inactiveIcon?(o(),m(a(I),{key:0},{default:C(()=>[(o(),m(D(t.inactiveIcon)))]),_:1})):d("v-if",!0),!t.inactiveIcon&&t.inactiveText?(o(),u("span",{key:1,"aria-hidden":a(l)},B(t.inactiveText),9,Be)):d("v-if",!0)],2)):d("v-if",!0),g("span",{ref_key:"core",ref:v,class:h(a(e).e("core")),style:G(a(Z))},[t.inlinePrompt?(o(),u("div",{key:0,class:h(a(e).e("inner"))},[t.activeIcon||t.inactiveIcon?(o(),u(K,{key:0},[t.activeIcon?(o(),m(a(I),{key:0,class:h([a(e).is("icon"),a(l)?a(e).is("show"):a(e).is("hide")])},{default:C(()=>[(o(),m(D(t.activeIcon)))]),_:1},8,["class"])):d("v-if",!0),t.inactiveIcon?(o(),m(a(I),{key:1,class:h([a(e).is("icon"),a(l)?a(e).is("hide"):a(e).is("show")])},{default:C(()=>[(o(),m(D(t.inactiveIcon)))]),_:1},8,["class"])):d("v-if",!0)],64)):t.activeText||t.inactiveIcon?(o(),u(K,{key:1},[t.activeText?(o(),u("span",{key:0,class:h([a(e).is("text"),a(l)?a(e).is("show"):a(e).is("hide")]),"aria-hidden":!a(l)},B(t.activeText.substring(0,3)),11,Ne)):d("v-if",!0),t.inactiveText?(o(),u("span",{key:1,class:h([a(e).is("text"),a(l)?a(e).is("hide"):a(e).is("show")]),"aria-hidden":a(l)},B(t.inactiveText.substring(0,3)),11,Pe)):d("v-if",!0)],64)):d("v-if",!0)],2)):d("v-if",!0),g("div",{class:h(a(e).e("action"))},[t.loading?(o(),m(a(I),{key:0,class:h(a(e).is("loading"))},{default:C(()=>[O(a(re))]),_:1},8,["class"])):d("v-if",!0)],2)],6),!t.inlinePrompt&&(t.activeIcon||t.activeText)?(o(),u("span",{key:1,class:h([a(e).e("label"),a(e).em("label","right"),a(e).is("active",a(l))])},[t.activeIcon?(o(),m(a(I),{key:0},{default:C(()=>[(o(),m(D(t.activeIcon)))]),_:1})):d("v-if",!0),!t.activeIcon&&t.activeText?(o(),u("span",{key:1,"aria-hidden":!a(l)},B(t.activeText),9,Ae)):d("v-if",!0)],2)):d("v-if",!0)],14,Ee))}});var Me=de($e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const ze=he(Me),Ke={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Fe=g("path",{fill:"currentColor",d:"M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7H6v12Z"},null,-1),Le=[Fe];function He(s,T){return o(),u("svg",Ke,Le)}var Re={name:"mdi-delete",render:He};const We={class:"flex justify-center items-center flex-col"},xe=g("h1",{class:"text-7xl"},"LiveQuery",-1),je={class:"w-50 pl-2 pr-2 inline-block"},Ge={class:"inline-block"},Je=ye(" \u70B9\u51FB\u6DFB\u52A0"),tt=Y({__name:"bronze",setup(s){const T=fe(f.TODO.name);let c=A();T.find().then(i=>{c.value=i}),T.subscribe().then(i=>{i.on("create",e=>{c.value.push(e)}),i.on("enter",(e,r)=>{}),i.on("update",(e,r)=>{const y=c.value.findIndex(_=>_.id==(e==null?void 0:e.id));c.value[y]=e}),i.on("delete",e=>{c.value=c.value.filter(r=>r.id!=(e==null?void 0:e.id))})});const n=()=>{const i=N.AV.Object.extend(f.TODO.name),e=new i;e.set(f.TODO.keys.content,"Hello world!"),e.set(f.TODO.keys.done,!0),e.set(f.TODO.keys.user,be()),e.save().then(r=>{})},S=(i,e)=>{const r=N.AV.Object.createWithoutData(f.TODO.name,i);r.set(f.TODO.keys.done,e),r.save()},U=(i,e)=>{const r=N.AV.Object.createWithoutData(f.TODO.name,i);r.set(f.TODO.keys.content,e),r.save()},w=i=>{N.AV.Object.createWithoutData(f.TODO.name,i).destroy()};return(i,e)=>{const r=ze,y=we,_=Re,k=ke;return o(),u("div",We,[xe,(o(!0),u(K,null,me(a(c),v=>(o(),u("div",{key:v.id,class:"flex items-center justify-center p-2"},[O(r,{modelValue:v.attributes.done,"onUpdate:modelValue":b=>v.attributes.done=b,onClick:b=>S(v.id,v.attributes.done)},null,8,["modelValue","onUpdate:modelValue","onClick"]),g("div",je,[O(y,{modelValue:v.attributes.content,"onUpdate:modelValue":b=>v.attributes.content=b,clearable:"",onInput:b=>U(v.id,v.attributes.content)},null,8,["modelValue","onUpdate:modelValue","onInput"])]),g("div",Ge,[O(_,{class:"mt-1",onClick:b=>w(v.id)},null,8,["onClick"])])]))),128)),O(k,{onClick:n},{default:C(()=>[Je]),_:1})])}}});export{tt as default};
