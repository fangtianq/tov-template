/* empty css             */import{_ as V,E as S,a as C}from"./logo-c5576bd1.js";import{E as P}from"./button-8bab4814.js";/* empty css              */import{d as w,s as R,n as B,a0 as F,a1 as M,x as N,a2 as T,r as U,o as $,P as I,a3 as o,w as r,Q as m,a4 as a,S as i,aa as j,az as v,aA as z,au as g,ax as A,aB as Q}from"./index-08a94d7c.js";import{E as q}from"./index-cb2a535a.js";import{b as h}from"./route-block-83d24a4e.js";import"./constants-0b468837.js";import"./use-form-item-351b2825.js";import"./event-1da57d2d.js";import"./index-414d99d5.js";import"./_baseClone-e6d13761.js";import"./_Uint8Array-e8c8a997.js";import"./_initCloneObject-0e92bdc1.js";import"./_getTag-eacb9242.js";import"./favicon-d22aecf5.js";import"./index-fc57844d.js";import"./index-86a38320.js";import"./isNil-c75b1b34.js";const D={class:"h-screen font-github"},G={class:"flex justify-center items-center flex-col"},H=m("div",{class:"font-300 text-2xl tracking-github mb-4"}," Sign in to tov-template ",-1),J={class:"h-67 w-77 bg-github_bg dark:bg-github_bg_dark border-github_b rounded-xl border-1 p-4"},K={class:"mt-3 w-77 border-github_b rounded-xl border-1 p-4"},L={class:"text-github_a"},O=w({beforeRouteEnter(x,d,e){e(l=>{j.isEmpty(v().value)||l.router.replace(d.path)})}}),W=w({...O,__name:"login",setup(x,{expose:d}){const e=R({username:"",password:""}),l=B(),c=F(),k=M();N(()=>{});const f=(p,t)=>{t&&(e.username="大哥",e.password="110"),p&&p.validate(_=>{if(_)z()(e.username,e.password).then(s=>{v().value=s.getSessionToken(),g.success("登录成功，欢迎您".concat(s.getUsername(),"回来~"));let{fromParams:n}=A(Q());c.push(n.value.fromPath)},s=>{s.rawMessage&&g.error(s.rawMessage)});else return!1})};return d({router:c,currentUser:T,route:k}),(p,t)=>{const _=V,s=q,n=S,b=P,E=U("router-link"),y=C;return $(),I("div",D,[o(y,{ref_key:"ruleFormRef",ref:l,model:a(e),"label-position":"top"},{default:r(()=>[m("div",G,[o(_),H,m("div",J,[o(n,{label:"Phone number"},{default:r(()=>[o(s,{modelValue:a(e).username,"onUpdate:modelValue":t[0]||(t[0]=u=>a(e).username=u)},null,8,["modelValue"])]),_:1}),o(n,{label:"Password"},{default:r(()=>[o(s,{modelValue:a(e).password,"onUpdate:modelValue":t[1]||(t[1]=u=>a(e).password=u),type:"password",autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(n,null,{default:r(()=>[o(b,{class:"w-full rounded-2xl shadow-github_button",color:"#2da44e",type:"primary",onClick:t[2]||(t[2]=u=>f(a(l)))},{default:r(()=>[i("Sign in")]),_:1})]),_:1}),o(n,null,{default:r(()=>[o(b,{class:"w-full rounded-2xl shadow-github_button",color:"#2da44e",type:"primary",onClick:t[3]||(t[3]=u=>f(a(l),!0))},{default:r(()=>[i("匿名登陆")]),_:1})]),_:1})]),m("div",K,[i(" New to Tov? "),m("a",L,[o(E,{to:"signup"},{default:r(()=>[i("Create an account")]),_:1})]),i(" . ")])])]),_:1},8,["model"])])}}});typeof h=="function"&&h(W);export{W as default};
