System.register(["./base-legacy.38854648.js","./button-legacy.f4bbbf8c.js","./delete-legacy.0e288ba1.js","./input-legacy.ea5c2c98.js","./switch-legacy.675561c9.js","./index-legacy.4a81f09d.js","./index-legacy.bfa02090.js","./index-legacy.969a3fd5.js","./use-form-item-legacy.aca14bad.js","./constants-legacy.ec33dc26.js","./index-legacy.b33c6eb8.js","./validator-legacy.14cfd9c6.js","./event-legacy.7722cbb2.js","./isNil-legacy.e248952d.js"],(function(e,t){"use strict";var a,l,n,s,u,r,i,d,o,c,v,y,g,D,b,A,G,m,x,O,k,f,j,h;return{setters:[null,e=>{a=e.E},e=>{l=e._},null,e=>{n=e.E},e=>{s=e.d,u=e.a_,r=e.f,i=e.a$,d=e.b0,o=e.b1,c=e.I,v=e.j,y=e.x,g=e.F,D=e.an,b=e.p,A=e.y,G=e.w,m=e.a8,x=e.m,O=e.a9,k=e.q,f=e.b2,j=e.ax},e=>{h=e.E},null,null,null,null,null,null,null],execute:function(){var t={class:"flex justify-center items-center flex-col"},p=x("h1",{class:"text-7xl"},"LiveQuery",-1),E={class:"w-50 pl-2 pr-2 inline-block"},L={class:"inline-block"},R=x("div",{class:"cursor-move"},"ðŸ‘‹ Drag here!",-1),B=x("div",{class:"text-xs opacity-50"},"Handle that triggers the drag event",-1),T={class:"text-sm opacity-50"};e("default",s({__name:"bronze",setup(e){var s=u(o.TODO.name),V=r();s.find().then((e=>{V.value=e})),s.subscribe().then((e=>{e.on("create",(e=>{V.value.push(e)})),e.on("enter",((e,t)=>{})),e.on("update",((e,t)=>{var a=V.value.findIndex((t=>t.id==(null==e?void 0:e.id)));V.value[a]=e})),e.on("delete",(e=>{V.value=V.value.filter((t=>t.id!=(null==e?void 0:e.id)))}))}));var w=()=>{var e=new(f.Object.extend(o.TODO.name));e.set(o.TODO.keys.content,"Hello world!"),e.set(o.TODO.keys.done,!0),e.set(o.TODO.keys.user,j()()),e.save().then((e=>{}))},_=r(null),C=i(_,{initialValue:{x:40,y:40}}),I=C.x,W=C.y,z=C.style,U=[r(I),r(W)],H=U[0],F=U[1],M=r();d([H,F],(()=>{M.value;var e=f.Object.createWithoutData(o.DRAGGABLE.name,M.value);e.set(o.DRAGGABLE.keys.x,H.value),e.set(o.DRAGGABLE.keys.y,F.value),e.save()}),{debounce:500});var Q=u(o.DRAGGABLE.name),S=(e,t)=>{var a=new(f.Object.extend(o.DRAGGABLE.name));return a.set(o.DRAGGABLE.keys.name,"bronzeDrag"),a.set(o.DRAGGABLE.keys.x,e),a.set(o.DRAGGABLE.keys.y,t),a.save(),a},q=e=>{if(e)return I.value=e.x,void(W.value=e.y);Q.find().then((e=>{if(null!=e&&e.length){var t=e.filter((e=>"bronzeDrag"==e.get(o.DRAGGABLE.keys.name)))[0];I.value=t.get(o.DRAGGABLE.keys.x),W.value=t.get(o.DRAGGABLE.keys.y),M=r(t.id)}else q(S(40,40))}),(e=>{"101"==e.code&&q(S(40,40))}))};return Q.subscribe().then((e=>{e.on("create",(e=>{M=r(e.id),I.value=e.get(o.DRAGGABLE.keys.x),W.value=e.get(o.DRAGGABLE.keys.y)})),e.on("enter",((e,t)=>{})),e.on("update",((e,t)=>{M=r(e.id),I.value=e.get(o.DRAGGABLE.keys.x),W.value=e.get(o.DRAGGABLE.keys.y)})),e.on("delete",(e=>{}))})),c((()=>{})),q(null),(e,s)=>{var u=n,r=h,i=l,d=a;return v(),y("div",t,[p,(v(!0),y(g,null,D(b(V),(e=>(v(),y("div",{key:e.id,class:"flex items-center justify-center p-2"},[A(u,{modelValue:e.attributes.done,"onUpdate:modelValue":t=>e.attributes.done=t,onClick:t=>{return a=e.id,l=e.attributes.done,(n=f.Object.createWithoutData(o.TODO.name,a)).set(o.TODO.keys.done,l),void n.save();var a,l,n}},null,8,["modelValue","onUpdate:modelValue","onClick"]),x("div",E,[A(r,{modelValue:e.attributes.content,"onUpdate:modelValue":t=>e.attributes.content=t,clearable:"",onInput:t=>{return a=e.id,l=e.attributes.content,(n=f.Object.createWithoutData(o.TODO.name,a)).set(o.TODO.keys.content,l),void n.save();var a,l,n}},null,8,["modelValue","onUpdate:modelValue","onInput"])]),x("div",L,[A(i,{class:"mt-1",onClick:t=>{return a=e.id,void f.Object.createWithoutData(o.TODO.name,a).destroy();var a}},null,8,["onClick"])])])))),128)),A(d,{onClick:w},{default:G((()=>[m(" ç‚¹å‡»æ·»åŠ ")])),_:1}),x("div",{ref_key:"settingRef",ref:_,style:k(b(z)),class:"bg-light-50 fixed shadow select-none z-10 hover:shadow-lg px-4 py-2 border-gray-400/30 rounded fixed"},[R,B,x("div",T," I am at "+O(Math.round(b(I)))+", "+O(Math.round(b(W))),1)],4)])}}}))}}}));
